!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function o(e){let t=!1;window.addEventListener("scroll",n=>{t||window.requestAnimationFrame(()=>{e(),t=!1}),t=!0})}function i(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}var r;n.r(t),function(e){e.CODE_AREA=".code-area",e.CONTENT="#d2v-content",e.CURRENT_SECTION_NAME="#current-section-name",e.TOP_HEADER="#d2v-header",e.NAVIGATION_MENU="#site-navigation"}(r||(r={}));class s{constructor(e,t){this._element=e,this._elementInMenu=this.getElementInMenu(t)}get isActive(){return this._element.getBoundingClientRect().top<=window.innerHeight/2}set classname(e){"active"===e?this._elementInMenuContainsActiveClass||this._elementInMenu.classList.add("active"):this._elementInMenuContainsActiveClass&&this._elementInMenu.classList.remove("active")}getElementInMenu(e){const t=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > ul > li > a`);for(const e of t)if(e.getAttribute("href")==="#"+this._element.getAttribute("id"))return e}get _elementInMenuContainsActiveClass(){return void 0!==this._elementInMenu&&this._elementInMenu.classList.contains("active")}}class c{constructor(e,t){this.codeArea=e,this.kotlinEditor=t,this._hasBeenExecuted=!1}get hasNotBeenExecuted(){return!this._hasBeenExecuted}get isOnScreen(){return this.codeArea.getBoundingClientRect().bottom>=0&&this.codeArea.getBoundingClientRect().bottom<=window.innerHeight}execute(){return new Promise((e,t)=>{this._hasBeenExecuted=!0,this.kotlinEditor.execute(),e(),t(new Error("can't execute kotlin playground editor"))})}}class u{constructor(e){this.editors=[],this.setEditors(e),this.setListenerForEditorsAutoExecution()}setEditors(e){for(const t in e){const n=e[t],o=n.nodes[0].querySelector(r.CODE_AREA);null!==o?this.editors.push(new c(o,n)):console.error(`codeArea of ${t+1} kotlin editor`)}}setListenerForEditorsAutoExecution(){o(()=>{for(const e of this.editors)e.isOnScreen&&e.hasNotBeenExecuted&&e.execute()})}}const l=[];KotlinPlayground(".kotlin-code",{getInstance:e=>{l.push(e)}}).then(()=>{new u(l)}),function(e,t){const n=document.body,r=void 0===t?0:t.getBoundingClientRect().height;o(()=>{const t=parseInt(window.getComputedStyle(e).paddingTop)-r;i()>=t&&!n.classList.contains("menu-fixed")?n.classList.add("menu-fixed"):i()<=t&&n.classList.contains("menu-fixed")&&n.classList.remove("menu-fixed")})}(document.querySelector(r.CONTENT),document.querySelector(r.TOP_HEADER)),document.querySelector(r.CURRENT_SECTION_NAME).innerHTML=function(){const e=document.querySelector("h1");return null!==e?e.innerHTML:""}(),function(){const e=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > a`),t=document.querySelector("h1");if(null!==t)for(const n of e)n.innerHTML===t.innerHTML&&n.classList.add("active")}(),new Promise((e,t)=>{const n=[],o=document.querySelectorAll(`${r.CONTENT} h2`),i=document.querySelector(`${r.NAVIGATION_MENU}`);for(const e of o)n.push(new s(e,i));e(n.reverse()),t(new Error("can't get list of level two in navigation menu"))}).then(e=>{o(()=>{!function(e){let t=!0;for(const n of e)n.isActive&&t?(t=!1,n.classname="active"):n.classname="unactive"}(e)})}),console.log("hello");n(0)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvSFRNTF9TRUxFQ1RPUlMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbk1lbnUvc2V0TmF2aWdhdGlvbk1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvZWRpdG9yL0VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3IvRDJWS290bGluRWRpdG9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3Ivc2V0RWRpdG9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tZW51UG9zaXRpb25PYnNlcnZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL25hdmlnYXRpb25NZW51L3NldEN1cnJlbnRTZWN0aW9uTmFtZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFkZFNjcm9sbEV2ZW50TGlzdGVuZXIiLCJmdW4iLCJ0aWNraW5nIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wIiwidW5kZWZpbmVkIiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJwYXJlbnROb2RlIiwic2Nyb2xsVG9wIiwiSFRNTF9TRUxFQ1RPUlMiLCJzZXROYXZpZ2F0aW9uTWVudV9UaXRsZUxldmVsVHdvIiwiW29iamVjdCBPYmplY3RdIiwiZWxlbWVudCIsIm5hdmlnYXRpb25NZW51RWxlbWVudCIsInRoaXMiLCJfZWxlbWVudCIsIl9lbGVtZW50SW5NZW51IiwiZ2V0RWxlbWVudEluTWVudSIsImlzQWN0aXZlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiaW5uZXJIZWlnaHQiLCJjbGFzc25hbWUiLCJfZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJsaXN0T2ZMZXZlbFR3b0luTWVudSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJOQVZJR0FUSU9OX01FTlUiLCJsZXZlbFR3b0VsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWlucyIsIkVkaXRvciIsImNvZGVBcmVhIiwia290bGluRWRpdG9yIiwiX2hhc0JlZW5FeGVjdXRlZCIsImhhc05vdEJlZW5FeGVjdXRlZCIsImlzT25TY3JlZW4iLCJib3R0b20iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImV4ZWN1dGUiLCJFcnJvciIsIkQyVktvdGxpbkVkaXRvcnNfRDJWS290bGluRWRpdG9ycyIsImtvdGxpbkVkaXRvcnMiLCJlZGl0b3JzIiwic2V0RWRpdG9ycyIsInNldExpc3RlbmVyRm9yRWRpdG9yc0F1dG9FeGVjdXRpb24iLCJlZGl0b3IiLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3IiLCJDT0RFX0FSRUEiLCJwdXNoIiwiY29uc29sZSIsImVycm9yIiwibGlzdE9mS290bGluUGxheWdyb3VuZEVkaXRvcnMiLCJLb3RsaW5QbGF5Z3JvdW5kIiwiZ2V0SW5zdGFuY2UiLCJrb3RsaW5QbGF5Z3JvdW5kRWRpdG9yIiwidGhlbiIsInJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnUiLCJ0b3BFbGVtZW50Rml4ZWRPdmVyTWVudSIsImhlaWdodE9mRml4ZWRFbGVtZW50VGhhdEhpZGVzTWVudSIsImhlaWdodCIsInJlZlBvc2l0aW9uRm9yRml4ZWRNZW51IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ1RvcCIsIm1lbnVQb3NpdGlvbk9ic2VydmVyIiwiQ09OVEVOVCIsIlRPUF9IRUFERVIiLCJDVVJSRU5UX1NFQ1RJT05fTkFNRSIsImlubmVySFRNTCIsInBhZ2VUaXRsZUVsZW1lbnQiLCJnZXRDdXJyZW50U2VjdGlvbk5hbWUiLCJMRVZFTF9PTl9OQVZJR0FUSU9OX0VMRU1FTlRTIiwiY3VycmVudFRpdGxlUGFnZSIsImxldmVsMU1lbnVOYXZpZ2F0aW9uRWxlbWVudCIsInNldExldmVsTmF2T25lIiwibGlzdFRvUmV0dXJuIiwiVElUTEVfVFdPX0VMRU1FTlRTIiwiTkFWSUdBVElPTl9NRU5VX0VMRU1FTlQiLCJuYXZpZ2F0aW9uVHdvRWxlbWVudCIsInJldmVyc2UiLCJsaXN0T2ZUaXRsZUxldmVsVHdvIiwibGFzdFRpdGxlSXNOb3RGb3VuZCIsInRpdGxlTGV2ZWxUd28iLCJ1cGRhdGVMZXZlbFR3b0luTmF2aWdhdGlvbk1lbnUiLCJsb2ciXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdB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YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBhZGRTY3JvbGxFdmVudExpc3RlbmVyKGZ1bjogKCkgPT4gdm9pZCkge1xuICAgIGxldCB0aWNraW5nID0gZmFsc2VcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoZXYpID0+IHtcbiAgICAgICAgaWYoIXRpY2tpbmcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZ1bigpXG4gICAgICAgICAgICAgICAgdGlja2luZyA9IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRpY2tpbmcgPSB0cnVlXG4gICAgfSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkKSA/IHdpbmRvdy5wYWdlWU9mZnNldCA6ICgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5KSBhcyBIVE1MRWxlbWVudCkuc2Nyb2xsVG9wXG59IiwiZXhwb3J0IGVudW0gSFRNTF9TRUxFQ1RPUlMge1xuICAgIENPREVfQVJFQSAgICAgICAgICAgICAgID0gXCIuY29kZS1hcmVhXCIsXG4gICAgQ09OVEVOVCAgICAgICAgICAgICAgICAgPSBcIiNkMnYtY29udGVudFwiLFxuICAgIENVUlJFTlRfU0VDVElPTl9OQU1FICAgID0gXCIjY3VycmVudC1zZWN0aW9uLW5hbWVcIixcbiAgICBUT1BfSEVBREVSICAgICAgICAgICAgICA9IFwiI2Qydi1oZWFkZXJcIixcbiAgICBOQVZJR0FUSU9OX01FTlUgICAgICAgICA9IFwiI3NpdGUtbmF2aWdhdGlvblwiXG59IiwiaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4uL0hUTUxfU0VMRUNUT1JTXCJcbmltcG9ydCB7YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcn0gZnJvbSBcIi4uL2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TmF2aWdhdGlvbk1lbnUoKSB7XG4gICAgc2V0TGV2ZWxOYXZPbmUoKVxuICAgIHNldExldmVsTmF2VHdvKClcbn1cblxuZnVuY3Rpb24gc2V0TGV2ZWxOYXZPbmUoKSB7XG4gICAgY29uc3QgQ1VSUkVOVF9TRUNUSU9OX0NMQVNTTkFNRSA9IFwiYWN0aXZlXCJcblxuICAgIGNvbnN0IExFVkVMX09OX05BVklHQVRJT05fRUxFTUVOVFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke0hUTUxfU0VMRUNUT1JTLk5BVklHQVRJT05fTUVOVX0gPiBsaSA+IGFgKVxuXG4gICAgY29uc3QgY3VycmVudFRpdGxlUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKVxuXG4gICAgaWYoY3VycmVudFRpdGxlUGFnZSAhPT0gbnVsbCl7XG4gICAgICAgIGZvcihjb25zdCBsZXZlbDFNZW51TmF2aWdhdGlvbkVsZW1lbnQgb2YgTEVWRUxfT05fTkFWSUdBVElPTl9FTEVNRU5UUykge1xuICAgICAgICAgICAgaWYobGV2ZWwxTWVudU5hdmlnYXRpb25FbGVtZW50LmlubmVySFRNTCA9PT0gY3VycmVudFRpdGxlUGFnZS5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICBsZXZlbDFNZW51TmF2aWdhdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChDVVJSRU5UX1NFQ1RJT05fQ0xBU1NOQU1FKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMZXZlbE5hdlR3bygpIHtcbiAgICBnZW5lcmF0ZUxpc3RPZlRpdGxlTGV2ZWxUd28oKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICBhZGRTY3JvbGxFdmVudExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUxldmVsVHdvSW5OYXZpZ2F0aW9uTWVudSh2YWx1ZSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMZXZlbFR3b0luTmF2aWdhdGlvbk1lbnUobGlzdE9mVGl0bGVMZXZlbFR3bzogVGl0bGVMZXZlbFR3b1tdKSB7XG4gICAgbGV0IGxhc3RUaXRsZUlzTm90Rm91bmQgPSB0cnVlXG5cbiAgICBmb3IoY29uc3QgdGl0bGVMZXZlbFR3byBvZiBsaXN0T2ZUaXRsZUxldmVsVHdvKSB7XG4gICAgICAgIGlmKHRpdGxlTGV2ZWxUd28uaXNBY3RpdmUgJiYgbGFzdFRpdGxlSXNOb3RGb3VuZCkge1xuICAgICAgICAgICAgbGFzdFRpdGxlSXNOb3RGb3VuZCA9IGZhbHNlXG4gICAgICAgICAgICB0aXRsZUxldmVsVHdvLmNsYXNzbmFtZSA9IFwiYWN0aXZlXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlTGV2ZWxUd28uY2xhc3NuYW1lID0gXCJ1bmFjdGl2ZVwiXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGlzdE9mVGl0bGVMZXZlbFR3bygpOiBQcm9taXNlPFRpdGxlTGV2ZWxUd29bXT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RUb1JldHVybiA9IFtdXG5cbiAgICAgICAgY29uc3QgVElUTEVfVFdPX0VMRU1FTlRTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHtIVE1MX1NFTEVDVE9SUy5DT05URU5UfSBoMmApIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+XG4gICAgICAgIGNvbnN0IE5BVklHQVRJT05fTUVOVV9FTEVNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtIVE1MX1NFTEVDVE9SUy5OQVZJR0FUSU9OX01FTlV9YCkgYXMgSFRNTEVsZW1lbnRcblxuICAgICAgICBmb3IoY29uc3QgbmF2aWdhdGlvblR3b0VsZW1lbnQgb2YgVElUTEVfVFdPX0VMRU1FTlRTKSB7XG4gICAgICAgICAgICBsaXN0VG9SZXR1cm4ucHVzaChuZXcgVGl0bGVMZXZlbFR3byhuYXZpZ2F0aW9uVHdvRWxlbWVudCwgTkFWSUdBVElPTl9NRU5VX0VMRU1FTlQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShsaXN0VG9SZXR1cm4ucmV2ZXJzZSgpKVxuXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJjYW4ndCBnZXQgbGlzdCBvZiBsZXZlbCB0d28gaW4gbmF2aWdhdGlvbiBtZW51XCIpKVxuICAgIH0pXG59XG5cbmNsYXNzIFRpdGxlTGV2ZWxUd28ge1xuICAgIHByaXZhdGUgX2VsZW1lbnQ6IEhUTUxFbGVtZW50XG5cbiAgICBwcml2YXRlIF9lbGVtZW50SW5NZW51OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZFxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudEluTWVudSA9IHRoaXMuZ2V0RWxlbWVudEluTWVudShuYXZpZ2F0aW9uTWVudUVsZW1lbnQpXG4gICAgfVxuXG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPD0gd2luZG93LmlubmVySGVpZ2h0IC8gMlxuICAgIH1cblxuICAgIHNldCBjbGFzc25hbWUoY2xhc3NuYW1lOiBcImFjdGl2ZVwifFwidW5hY3RpdmVcIikge1xuICAgICAgICBpZihjbGFzc25hbWUgPT09IFwiYWN0aXZlXCIpIHtcbiAgICAgICAgICAgIGlmKCEgdGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYodGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbGVtZW50SW5NZW51KG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgbGlzdE9mTGV2ZWxUd29Jbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke0hUTUxfU0VMRUNUT1JTLk5BVklHQVRJT05fTUVOVX0gPiBsaSA+IHVsID4gbGkgPiBhYCkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD5cblxuICAgICAgICBmb3IoY29uc3QgbGV2ZWxUd29FbGVtZW50IG9mIGxpc3RPZkxldmVsVHdvSW5NZW51KSB7XG4gICAgICAgICAgICBpZihsZXZlbFR3b0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgKyB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVsVHdvRWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgX2VsZW1lbnRJbk1lbnVDb250YWluc0FjdGl2ZUNsYXNzKCkge1xuICAgICAgICBpZih0aGlzLl9lbGVtZW50SW5NZW51ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50SW5NZW51LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yfSBmcm9tIFwiLi9JS290bGluUGxheWdyb3VuZEVkaXRvclwiXG5cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgY29kZUFyZWE6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwdWJsaWMga290bGluRWRpdG9yOiBJS290bGluUGxheWdyb3VuZEVkaXRvcixcbiAgICApIHt9XG5cbiAgICBwcml2YXRlIF9oYXNCZWVuRXhlY3V0ZWQgPSBmYWxzZVxuICAgIGdldCBoYXNOb3RCZWVuRXhlY3V0ZWQoKSB7IHJldHVybiAhdGhpcy5faGFzQmVlbkV4ZWN1dGVkfVxuXG4gICAgZ2V0IGlzT25TY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZGVBcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA+PSAwICYmIHRoaXMuY29kZUFyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDw9IHdpbmRvdy5pbm5lckhlaWdodFxuICAgIH1cblxuICAgIHB1YmxpYyBleGVjdXRlKCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9oYXNCZWVuRXhlY3V0ZWQgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmtvdGxpbkVkaXRvci5leGVjdXRlKClcbiAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcImNhbid0IGV4ZWN1dGUga290bGluIHBsYXlncm91bmQgZWRpdG9yXCIpKVxuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IHtJS290bGluUGxheWdyb3VuZEVkaXRvcn0gZnJvbSBcIi4vSUtvdGxpblBsYXlncm91bmRFZGl0b3JcIlxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuL0VkaXRvclwiXG5pbXBvcnQge2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJ9IGZyb20gXCIuLi9hZGRTY3JvbGxFdmVudExpc3RlbmVyXCJcbmltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuLi9IVE1MX1NFTEVDVE9SU1wiXG5cbmV4cG9ydCBjbGFzcyBEMlZLb3RsaW5FZGl0b3JzIHtcbiAgICBjb25zdHJ1Y3Rvcihrb3RsaW5FZGl0b3JzOiBJS290bGluUGxheWdyb3VuZEVkaXRvcltdKSB7XG5cbiAgICAgICAgdGhpcy5zZXRFZGl0b3JzKGtvdGxpbkVkaXRvcnMpXG5cbiAgICAgICAgdGhpcy5zZXRMaXN0ZW5lckZvckVkaXRvcnNBdXRvRXhlY3V0aW9uKClcbiAgICB9XG5cbiAgICBwcml2YXRlIGVkaXRvcnM6IEVkaXRvcltdID0gW11cblxuICAgIHByaXZhdGUgc2V0RWRpdG9ycyhrb3RsaW5FZGl0b3JzOiBJS290bGluUGxheWdyb3VuZEVkaXRvcltdKSB7XG4gICAgICAgIGZvcihjb25zdCBpIGluIGtvdGxpbkVkaXRvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRvciA9IGtvdGxpbkVkaXRvcnNbaV1cbiAgICAgICAgICAgIGNvbnN0IGNvZGVBcmVhID0gZWRpdG9yLm5vZGVzWzBdLnF1ZXJ5U2VsZWN0b3IoSFRNTF9TRUxFQ1RPUlMuQ09ERV9BUkVBKVxuXG4gICAgICAgICAgICBpZihjb2RlQXJlYSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9ycy5wdXNoKG5ldyBFZGl0b3IoY29kZUFyZWEgYXMgSFRNTERpdkVsZW1lbnQsIGVkaXRvcikpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGNvZGVBcmVhIG9mICR7aSArIDF9IGtvdGxpbiBlZGl0b3JgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRMaXN0ZW5lckZvckVkaXRvcnNBdXRvRXhlY3V0aW9uKCkge1xuICAgICAgICBhZGRTY3JvbGxFdmVudExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIGZvcihjb25zdCBlZGl0b3Igb2YgdGhpcy5lZGl0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYoZWRpdG9yLmlzT25TY3JlZW4gJiYgZWRpdG9yLmhhc05vdEJlZW5FeGVjdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY3V0ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7SUtvdGxpblBsYXlncm91bmRFZGl0b3J9IGZyb20gXCIuL0lLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yXCJcbmltcG9ydCB7RDJWS290bGluRWRpdG9yc30gZnJvbSBcIi4vRDJWS290bGluRWRpdG9yc1wiXG5cbmRlY2xhcmUgZnVuY3Rpb24gS290bGluUGxheWdyb3VuZChzZWxlY3Rvcjogc3RyaW5nLCBldmVudEZ1bmN0aW9ucz86IElFdmVudEZ1bmN0aW9ucyk6IFByb21pc2U8SUtvdGxpblBsYXlncm91bmRFZGl0b3JbXT5cblxuaW50ZXJmYWNlIElFdmVudEZ1bmN0aW9ucyB7XG4gICAgY2FsbGJhY2s/OiAodGFyZ2V0Tm9kZTogSFRNTEVsZW1lbnQsIG1vdW50Tm9kZTogSFRNTEVsZW1lbnQpID0+IHZvaWQsXG4gICAgZ2V0SW5zdGFuY2U/OiAoaW5zdGFuY2U6IElLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yKSA9PiB2b2lkXG4gICAgb25DaGFuZ2U/OiAoY29kZTogc3RyaW5nKSA9PiB2b2lkLFxuICAgIG9uVGVzdFBhc3NlZD86ICgpID0+IHZvaWQsXG59XG5cbmNvbnN0IGxpc3RPZktvdGxpblBsYXlncm91bmRFZGl0b3JzOiBJS290bGluUGxheWdyb3VuZEVkaXRvcltdID0gW11cblxuY29uc3QgZXZlbnRGdW5jdGlvbnMgPSB7XG4gICAgZ2V0SW5zdGFuY2U6IChrb3RsaW5QbGF5Z3JvdW5kRWRpdG9yOiBJS290bGluUGxheWdyb3VuZEVkaXRvcikgPT4ge1xuICAgICAgICBsaXN0T2ZLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ycy5wdXNoKGtvdGxpblBsYXlncm91bmRFZGl0b3IpXG4gICAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEVkaXRvcnMoKSB7XG4gICAgS290bGluUGxheWdyb3VuZCgnLmtvdGxpbi1jb2RlJywgZXZlbnRGdW5jdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICBuZXcgRDJWS290bGluRWRpdG9ycyhsaXN0T2ZLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ycylcbiAgICB9KVxufVxuIiwiaW1wb3J0IHthZGRTY3JvbGxFdmVudExpc3RlbmVyfSBmcm9tIFwiLi9hZGRTY3JvbGxFdmVudExpc3RlbmVyXCJcbmltcG9ydCB7Z2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wfSBmcm9tIFwiLi9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3BcIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4vSFRNTF9TRUxFQ1RPUlNcIlxuXG5cbmV4cG9ydCBmdW5jdGlvbiBtZW51UG9zaXRpb25PYnNlcnZlcihyZWZlcmVuY2VFbGVtZW50Rm9yRml4ZWRNZW51OiBIVE1MRWxlbWVudCwgdG9wRWxlbWVudEZpeGVkT3Zlck1lbnU/OiBIVE1MRWxlbWVudCkge1xuXG4gICAgY29uc3QgRklYRURfTUVOVV9DTEFTU19OQU1FID0gXCJtZW51LWZpeGVkXCJcblxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG5cbiAgICBjb25zdCBoZWlnaHRPZkZpeGVkRWxlbWVudFRoYXRIaWRlc01lbnUgPSB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudSA9PT0gdW5kZWZpbmVkID8gIDAgOiB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcblxuICAgIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uVG9wT2ZSZWZFbGVtZW50ID0gcGFyc2VJbnQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnUpLnBhZGRpbmdUb3AgYXMgc3RyaW5nIClcblxuICAgICAgICBjb25zdCByZWZQb3NpdGlvbkZvckZpeGVkTWVudSA9IHBvc2l0aW9uVG9wT2ZSZWZFbGVtZW50IC0gaGVpZ2h0T2ZGaXhlZEVsZW1lbnRUaGF0SGlkZXNNZW51XG5cbiAgICAgICAgaWYoZ2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wKCkgPj0gcmVmUG9zaXRpb25Gb3JGaXhlZE1lbnUgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSkpe1xuICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSlcbiAgICAgICAgfSBlbHNlIGlmIChnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKSA8PSByZWZQb3NpdGlvbkZvckZpeGVkTWVudSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhGSVhFRF9NRU5VX0NMQVNTX05BTUUpKSB7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoRklYRURfTUVOVV9DTEFTU19OQU1FKVxuICAgICAgICB9XG5cbiAgICB9KVxufVxuIiwiaW1wb3J0IHttZW51UG9zaXRpb25PYnNlcnZlcn0gZnJvbSBcIi4vbWVudVBvc2l0aW9uT2JzZXJ2ZXJcIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4vSFRNTF9TRUxFQ1RPUlNcIlxuaW1wb3J0IHtzZXRDdXJyZW50U2VjdGlvbk5hbWV9IGZyb20gXCIuL25hdmlnYXRpb25NZW51L3NldEN1cnJlbnRTZWN0aW9uTmFtZVwiXG5pbXBvcnQge3NldE5hdmlnYXRpb25NZW51fSBmcm9tIFwiLi9uYXZpZ2F0aW9uTWVudS9zZXROYXZpZ2F0aW9uTWVudVwiXG5pbXBvcnQge3NldEVkaXRvcnN9IGZyb20gXCIuL2VkaXRvci9zZXRFZGl0b3JzXCJcblxuc2V0RWRpdG9ycygpXG5cbm1lbnVQb3NpdGlvbk9ic2VydmVyKFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoSFRNTF9TRUxFQ1RPUlMuQ09OVEVOVCkgYXMgSFRNTEVsZW1lbnQsXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihIVE1MX1NFTEVDVE9SUy5UT1BfSEVBREVSKSBhcyBIVE1MRWxlbWVudCxcbilcblxuXG5zZXRDdXJyZW50U2VjdGlvbk5hbWUoKVxuXG5zZXROYXZpZ2F0aW9uTWVudSgpXG5cbmNvbnNvbGUubG9nKFwiaGVsbG9cIikiLCJpbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFNlY3Rpb25OYW1lKCkge1xuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNVUlJFTlRfU0VDVElPTl9OQU1FKSBhcyBIVE1MRWxlbWVudCkuaW5uZXJIVE1MID0gZ2V0Q3VycmVudFNlY3Rpb25OYW1lKClcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudFNlY3Rpb25OYW1lKCk6IHN0cmluZyB7XG4gICAgY29uc3QgcGFnZVRpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKVxuICAgIGlmKHBhZ2VUaXRsZUVsZW1lbnQgIT09IG51bGwgKSB7XG4gICAgICAgIHJldHVybiBwYWdlVGl0bGVFbGVtZW50LmlubmVySFRNTFxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiXG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==