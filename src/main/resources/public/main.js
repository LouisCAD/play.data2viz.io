!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){(function(e,o){var i;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var r={function:!0,object:!0},a=r[typeof window]&&window||this,s=r[typeof t]&&t,l=r[typeof e]&&e&&!e.nodeType&&e,c=s&&l&&"object"==typeof o&&o;!c||c.global!==c&&c.window!==c&&c.self!==c||(a=c);var u=Math.pow(2,53)-1,d=/\bOpera/,b=Object.prototype,p=b.hasOwnProperty,f=b.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=O(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function S(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?h(e):f.call(e).slice(8,-1)}function x(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function E(e,t){var n=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=u)for(;++n<o;)t(e[n],n,e);else S(e,t)}(e,function(o,i){n=t(n,o,i,e)}),n}function O(e){return String(e).replace(/^ +| +$/g,"")}var y=function e(t){var n=a,o=t&&"object"==typeof t&&"String"!=g(t);o&&(n=t,t=null);var i=n.navigator||{},r=i.userAgent||"";t||(t=r);var s,l,c=o?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(f.toString()),u=o?"Object":"ScriptBridgingProxyObject",b=o?"Object":"Environment",p=o&&n.java?"JavaPackage":g(n.java),h=o?"Object":"RuntimeObject",y=/\bJava/.test(p)&&n.java,_=y&&g(n.environment)==b,w=y?"a":"α",v=y?"b":"β",M=n.document||{},C=n.operamini||n.opera,A=d.test(A=o&&C?C["[[Class]]"]:g(C))?A:C=null,P=t,T=[],I=null,R=t==r,k=R&&C&&"function"==typeof C.version&&C.version(),N=function(e){return E(e,function(e,n){return e||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(t)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),B=function(e){return E(e,function(e,n){return e||RegExp("\\b"+(n.pattern||x(n))+"\\b","i").exec(t)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=G([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return E(e,function(e,n,o){return e||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+x(o)+"(?:\\b|\\w*\\d)","i").exec(t))&&o})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),L=function(e){return E(e,function(e,n){var o=n.pattern||x(n);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,o,n.label||n)),e})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function G(e){return E(e,function(e,n){var o=n.pattern||x(n);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+o+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(o,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=m(e[0].replace(RegExp(o,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(N&&(N=[N]),W&&!F&&(F=G([W])),(s=/\bGoogle TV\b/.exec(F))&&(F=s[0]),/\bSimulator\b/i.test(t)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(t)&&T.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(t)?(W=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,F=s.product):/^iP/.test(F)?(B||(B="Safari"),L="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"!=B||/buntu/i.test(L)?W&&"Google"!=W&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(F))||/\bAndroid\b/.test(L)&&/^Chrome/.test(B)&&/\bVersion\//i.test(t)?(B="Android Browser",L=/\bAndroid\b/.test(L)?L:"Android"):"Silk"==B?(/\bMobi/i.test(t)||(L="Android",T.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&T.unshift("accelerated")):"PaleMoon"==B&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?T.push("identifying as Firefox "+s[1]):"Firefox"==B&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(L||(L="Firefox OS"),F||(F=s[1])):!B||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!F&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(B=null),(s=F||W||L)&&(F||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(L))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(L)?L:s)+" Browser")):"Electron"==B&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&T.push("Chromium "+s):L="Kubuntu",k||(k=function(e){return E(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",x(B),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==N&&parseFloat(k)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(t)&&("Mac OS"==L?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(N=[s]),"IE"==B&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(B+=" Mobile",L="Windows Phone "+(/\+$/.test(s)?s:s+".x"),T.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(B="IE Mobile",L="Windows Phone 8.x",T.unshift("desktop mode"),k||(k=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=B&&"Trident"==N&&(s=/\brv:([\d.]+)/.exec(t))&&(B&&T.push("identifying as "+B+(k?" "+k:"")),B="IE",k=s[1]),R){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(n,"global"))if(y&&(P=(s=y.lang.System).getProperty("os.arch"),L=L||s.getProperty("os.name")+" "+s.getProperty("os.version")),_){try{k=n.require("ringo/engine").version.join("."),B="RingoJS"}catch(e){(s=n.system)&&s.global.system==n.system&&(B="Narwhal",L||(L=s[0].os||null))}B||(B="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(T.push("Node "+s.versions.node),B="Electron",k=s.versions.electron):"string"==typeof s.versions.nw&&(T.push("Chromium "+k,"Node "+s.versions.node),B="NW.js",k=s.versions.nw)),B||(B="Node.js",P=s.arch,L=s.platform,k=(k=/[\d.]+/.exec(s.version))?k[0]:null));else g(s=n.runtime)==u?(B="Adobe AIR",L=s.flash.system.Capabilities.os):g(s=n.phantom)==h?(B="PhantomJS",k=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof M.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(k=[k,M.documentMode],(s=+s[1]+4)!=k[1]&&(T.push("IE "+k[1]+" mode"),N&&(N[1]=""),k[1]=s),k="IE"==B?String(k[1].toFixed(1)):k[0]):"number"==typeof M.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(T.push("masking as "+B+" "+k),B="IE",k="11.0",N=["Trident"],L="Windows");L=L&&m(L)}if(k&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(R&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(I=/b/i.test(s)?"beta":"alpha",k=k.replace(RegExp(s+"\\+?$"),"")+("beta"==I?v:w)+(/\d+\+?/.exec(s)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS)\b/.test(L))B="Firefox Mobile";else if("Maxthon"==B&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(L=null),"Xbox 360"==F&&/\bIEMobile\b/.test(t)&&T.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||F||/Browser|Mobi/.test(B))||"Windows CE"!=L&&!/Mobi/i.test(t))if("IE"==B&&R)try{null===n.external&&T.unshift("platform preview")}catch(e){T.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(t))&&(s=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||k)?(L=((s=[s,/BB10/.test(t)])[1]?(F=null,W="BlackBerry"):"Device Software")+" "+s[0],k=null):this!=S&&"Wii"!=F&&(R&&C||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(L)||"IE"==B&&(L&&!/^Win/.test(L)&&k>5.5||/\bWindows XP\b/.test(L)&&k>8||8==k&&!/\bTrident\b/.test(t)))&&!d.test(s=e.call(S,t.replace(d,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),d.test(B)?(/\bIE\b/.test(s)&&"Mac OS"==L&&(L=null),s="identify"+s):(s="mask"+s,B=A?m(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(L=null),R||(k=null)),N=["Presto"],T.push(s));else B+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==B&&"+"==s[1].slice(-1)?(B="WebKit Nightly",I="alpha",k=s[1].slice(0,-1)):k!=s[1]&&k!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(k=null),s[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==N&&(N=["Blink"]),R&&(c||s[1])?(N&&(N[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:"8"),N&&(N[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==B&&(!k||parseInt(k)>45)&&(k=s)),"Opera"==B&&(s=/\bzbov|zvav$/.exec(L))?(B+=" ",T.unshift("desktop mode"),"zvav"==s?(B+="Mini",k=null):B+="Mobile",L=L.replace(RegExp(" *"+s+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(N&&N[1])&&(T.unshift("desktop mode"),B="Chrome Mobile",k=null,/\bOS X\b/.test(L)?(W="Apple",L="iOS 4.3+"):L=null),k&&0==k.indexOf(s=/[\d.]+$/.exec(L))&&t.indexOf("/"+s+"-")>-1&&(L=O(L.replace(s,""))),N&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(L)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(B)&&N[1])&&(s=N[N.length-1])&&T.push(s),T.length&&(T=["("+T.join("; ")+")"]),W&&F&&F.indexOf(W)<0&&T.push("on "+W),F&&T.push((/^on /.test(T[T.length-1])?"":"on ")+F),L&&(s=/ ([\d.+]+)$/.exec(L),l=s&&"/"==L.charAt(L.length-s[0].length-1),L={architecture:32,family:s&&!l?L.replace(s[0],""):L,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(L&&(L.architecture=64,L.family=L.family.replace(RegExp(" *"+s),"")),B&&(/\bWOW64\b/i.test(t)||R&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&T.unshift("32-bit")):L&&/^OS X/.test(L.family)&&"Chrome"==B&&parseFloat(k)>=39&&(L.architecture=64),t||(t=null);var $={};return $.description=t,$.layout=N&&N[0],$.manufacturer=W,$.name=B,$.prerelease=I,$.product=F,$.ua=t,$.version=B&&k,$.os=L||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=e,$.toString=function(){return this.description||""},$.version&&T.unshift(k),$.name&&T.unshift(B),L&&B&&(L!=String(L).split(" ")[0]||L!=B.split(" ")[0]&&!F)&&T.push(F?"("+L+")":"on "+L),T.length&&($.description=T.join(" ")),$}();a.platform=y,void 0===(i=function(){return y}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(1)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){},function(e,t,n){e.exports=n.p+"images/logo-play.png"},function(e,t,n){e.exports=n.p+"images/logo-negative.png"},function(e,t,n){e.exports=n.p+"images/go-back-to-main-page.png"},function(e,t,n){e.exports=n.p+"images/logo-play-io_all_min-color_variation-v3.png"},function(e,t,n){"use strict";function o(e){let t=!1;window.addEventListener("scroll",n=>{t||window.requestAnimationFrame(()=>{e(),t=!1}),t=!0})}function i(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}var r;function a(e){let t=!0;for(const n of e)n.isActive&&t?(t=!1,n.classname="active"):n.classname="unactive"}n.r(t),function(e){e.CODE_AREA=".code-area",e.CONTENT="#d2v-content",e.CURRENT_SECTION_NAME="#current-section-name",e.TOP_HEADER="#d2v-header",e.NAVIGATION_MENU="#site-navigation"}(r||(r={}));class s{constructor(e,t){this._element=e,this._elementInMenu=this.getElementInMenu(t)}get isActive(){return this._element.getBoundingClientRect().top<=window.innerHeight/2}set classname(e){"active"===e?this._elementInMenuContainsActiveClass||this._elementInMenu.classList.add("active"):this._elementInMenuContainsActiveClass&&this._elementInMenu.classList.remove("active")}getElementInMenu(e){const t=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > ul > li > a`);for(const e of t)if(e.getAttribute("href")==="#"+this._element.getAttribute("id"))return e}get _elementInMenuContainsActiveClass(){return void 0!==this._elementInMenu&&this._elementInMenu.classList.contains("active")}}class l{constructor(e){this._editors=[],this._editors=e,this._setListenerForEditorsAutoExecution()}runVisibleEditors(){for(const e of this._editors)e.isOnScreen&&e.hasNotBeenExecuted&&e.execute()}_setListenerForEditorsAutoExecution(){o(()=>{this.runVisibleEditors()})}}function c(e,t,n){const o=document.createElement(e);if("string"==typeof t)o.innerHTML=t;else if(t)for(const e of t)o.appendChild(e);return n&&(o.className=n),o}class u{constructor(e,t,n){this.TEXT_SHORTCUT={run:{macOs:"CTRL + R: run code",windows:"CTRL + F9: run code",linux:"CTRL + F9: run code"}},this.MORE_THAN_ONCE_CODE_CHANGED_CLASSNAME="more-than-once-code-changed",this.SHORTCUT_INFO_CLASSNAME="shortcut-info compiler-info",this._hasBeenExecuted=!1,this._eventFunctions={getInstance:e=>{this._KotlinPlaygroundEditorInstance=e},onChange:e=>{if(this.changedCounter++,2===this.changedCounter&&this.kotlinEditorContainer){let e;switch(this.PLATFORM_OS_USER_NAME){case"OS X":e=this.TEXT_SHORTCUT.run.macOs;break;case"Windows":e=this.TEXT_SHORTCUT.run.windows;break;case"Linux":e=this.TEXT_SHORTCUT.run.linux;break;default:e=""}"Other"!==this.PLATFORM_OS_USER_NAME&&this.kotlinEditorContainer.appendChild(c("div",[c("div",e),c("div","CTRL + SPACE: code completion")],this.SHORTCUT_INFO_CLASSNAME)),this.kotlinEditorContainer.classList.add(this.MORE_THAN_ONCE_CODE_CHANGED_CLASSNAME)}this._onChange&&this._onChange(e)}},this.changedCounter=0,this._selector=e,this.PLATFORM_OS_USER_NAME=t,this._onChange=n}init(){return new Promise(e=>{KotlinPlayground(this._selector,this._eventFunctions).then(()=>{if(this._KotlinPlaygroundEditorInstance){this._kotlinEditorContainer=this._KotlinPlaygroundEditorInstance.nodes[0];const e=this._kotlinEditorContainer.querySelector(r.CODE_AREA);if(null!==e&&e instanceof HTMLElement){this._codeArea=e;const t=e.querySelector(".CodeMirror"),n=u.getCookie("theme");n&&t.classList.add(`cm-s-${n}`)}}e(this)})})}static getCookie(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}get kotlinEditorContainer(){return this._kotlinEditorContainer}get codeArea(){return this._codeArea}get bottom_of_codeArea_is_above_bottom_of_screen(){return!!this.codeArea&&this.codeArea.getBoundingClientRect().bottom>=0}get bottom_of_codeArea_is_below_top_of_screen(){return!!this.codeArea&&this.codeArea.getBoundingClientRect().bottom<=window.innerHeight}get hasNotBeenExecuted(){return!this._hasBeenExecuted}get isOnScreen(){if(this._KotlinPlaygroundEditorInstance)return this.bottom_of_codeArea_is_above_bottom_of_screen&&this.bottom_of_codeArea_is_below_top_of_screen}execute(){return new Promise((e,t)=>{this._KotlinPlaygroundEditorInstance&&(this._hasBeenExecuted=!0,this._KotlinPlaygroundEditorInstance.execute()),e(),t(new Error("can't execute kotlin playground editor"))})}get KotlinPlaygroundEditorInstance(){return this._KotlinPlaygroundEditorInstance}}var d=n(0),b=n.n(d);function p(){if(!b.a.os)return"Other";switch(b.a.os.family){case"Windows":return"Windows";case"OS X":return"OS X";case"Ubuntu":return"Linux";default:return"Other"}}playground?function(){let e={name:"data2viz playground",code:'console.log("hello")'};const t=function(){const e=window.location.hash.match(/#\/S\/(.*)$/),t={hasScriptData:!1,scriptData:{code:"",name:""}};if(e&&e[1]){const n=JSON.parse(function(e){return RawDeflate.inflate(window.atob(e))}(e[1]));return n.hasOwnProperty("name")&&n.hasOwnProperty("code")?{hasScriptData:!0,scriptData:{code:n.code,name:n.name+" updated"}}:(console.error("script from url isn't type of IScriptData"),t)}return t}(),n=document.querySelector(".kotlin-code");if(n&&n instanceof HTMLElement){t.hasScriptData&&(e=t.scriptData,n.textContent=e.code);const o=t=>{!function(e,t){t.code=e,function(e){const t=`/S/${function(e){return window.btoa(RawDeflate.deflate(e))}(JSON.stringify(e))}`;history.pushState(null,"",`/sketch/#${t}`)}(t)}(t,e)};new u(n,p(),o).init().then(e=>{e.execute(),window.onpopstate=(()=>{console.log("history navigation"),e.KotlinPlaygroundEditorInstance&&console.log(e.KotlinPlaygroundEditorInstance.codemirror)})})}}():(new Promise(e=>{const t=document.querySelectorAll(".kotlin-code"),n=[];let o=0;for(const e of t)e instanceof HTMLElement&&n.push(new u(e,p()));for(const t of n)t.init().then(()=>{++o===n.length&&e(new l(n))})}).then(e=>{e.runVisibleEditors()}),function(e,t){const n=document.body,r=void 0===t?0:t.getBoundingClientRect().height;o(()=>{const t=parseInt(window.getComputedStyle(e).paddingTop)-r;i()>=t&&!n.classList.contains("menu-fixed")?n.classList.add("menu-fixed"):i()<=t&&n.classList.contains("menu-fixed")&&n.classList.remove("menu-fixed")})}(document.querySelector(r.CONTENT),document.querySelector(r.TOP_HEADER)),function(){const e=document.querySelector(r.CURRENT_SECTION_NAME);e&&(e.innerHTML=function(){const e=document.querySelector("h1");return e?e.innerHTML:""}())}(),new Promise((e,t)=>{const n=[],o=document.querySelectorAll(`${r.CONTENT} h2`),i=document.querySelector(`${r.NAVIGATION_MENU}`);for(const e of o)n.push(new s(e,i));e(n.reverse()),t(new Error("can't get list of level two in navigation menu"))}).then(e=>{a(e),o(()=>{a(e)})}));n(3),n(4),n(5),n(6),n(7)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BsYXRmb3JtL3BsYXRmb3JtLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ28tcGxheS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9sb2dvLW5lZ2F0aXZlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2dvLWJhY2stdG8tbWFpbi1wYWdlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2VzL2xvZ28tcGxheS1pb19hbGxfbWluLWNvbG9yX3ZhcmlhdGlvbi12My5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvSFRNTF9TRUxFQ1RPUlMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXROYXZpZ2F0aW9uTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3IvRWRpdG9yTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy90b29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3IvRWRpdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dldFVzZXJPcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3BsYXlncm91bmQvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3Ivc2V0RWRpdG9yc01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXRNZW51UG9zaXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXRDdXJyZW50U2VjdGlvbk5hbWUudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsIm9iamVjdFR5cGVzIiwiZnVuY3Rpb24iLCJyb290Iiwid2luZG93IiwidGhpcyIsImZyZWVFeHBvcnRzIiwiZnJlZU1vZHVsZSIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsInNlbGYiLCJtYXhTYWZlSW50ZWdlciIsIk1hdGgiLCJwb3ciLCJyZU9wZXJhIiwib2JqZWN0UHJvdG8iLCJ0b1N0cmluZyIsImNhcGl0YWxpemUiLCJzdHJpbmciLCJTdHJpbmciLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZm9ybWF0IiwidHJpbSIsInRlc3QiLCJmb3JPd24iLCJjYWxsYmFjayIsImdldENsYXNzT2YiLCJxdWFsaWZ5IiwicmVwbGFjZSIsInJlZHVjZSIsImFycmF5IiwiYWNjdW11bGF0b3IiLCJpbmRleCIsImxlbmd0aCIsImVhY2giLCJwbGF0Zm9ybSIsInBhcnNlIiwidWEiLCJjb250ZXh0IiwiaXNDdXN0b21Db250ZXh0IiwibmF2IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZGF0YSIsImlzU3BlY2lhbENhc2VkT1MiLCJsaWtlQ2hyb21lIiwiYWlyUnVudGltZUNsYXNzIiwiZW52aXJvQ2xhc3MiLCJqYXZhQ2xhc3MiLCJqYXZhIiwicGhhbnRvbUNsYXNzIiwicmhpbm8iLCJlbnZpcm9ubWVudCIsImFscGhhIiwiYmV0YSIsImRvYyIsImRvY3VtZW50Iiwib3BlcmEiLCJvcGVyYW1pbmkiLCJvcGVyYUNsYXNzIiwiYXJjaCIsImRlc2NyaXB0aW9uIiwicHJlcmVsZWFzZSIsInVzZUZlYXR1cmVzIiwidmVyc2lvbiIsImxheW91dCIsImd1ZXNzZXMiLCJyZXN1bHQiLCJndWVzcyIsIlJlZ0V4cCIsInBhdHRlcm4iLCJleGVjIiwibGFiZWwiLCJnZXRMYXlvdXQiLCJnZXROYW1lIiwicHJvZHVjdCIsImdldFByb2R1Y3QiLCJtYW51ZmFjdHVyZXIiLCJnZXRNYW51ZmFjdHVyZXIiLCJBcHBsZSIsImlQYWQiLCJpUGhvbmUiLCJpUG9kIiwiQXJjaG9zIiwiQW1hem9uIiwiS2luZGxlIiwiS2luZGxlIEZpcmUiLCJBc3VzIiwiVHJhbnNmb3JtZXIiLCJCYXJuZXMgJiBOb2JsZSIsIk5vb2siLCJCbGFja0JlcnJ5IiwiUGxheUJvb2siLCJHb29nbGUiLCJHb29nbGUgVFYiLCJOZXh1cyIsIkhQIiwiVG91Y2hQYWQiLCJIVEMiLCJMRyIsIk1pY3Jvc29mdCIsIlhib3giLCJYYm94IE9uZSIsIk1vdG9yb2xhIiwiWG9vbSIsIk5pbnRlbmRvIiwiV2lpIFUiLCJXaWkiLCJOb2tpYSIsIkx1bWlhIiwiU2Ftc3VuZyIsIkdhbGF4eSBTIiwiR2FsYXh5IFMyIiwiR2FsYXh5IFMzIiwiR2FsYXh5IFM0IiwiU29ueSIsIlBsYXlTdGF0aW9uIiwiUGxheVN0YXRpb24gVml0YSIsIm9zIiwiMTAuMCIsIjYuNCIsIjYuMyIsIjYuMiIsIjYuMSIsIjYuMCIsIjUuMiIsIjUuMSIsIjUuMDEiLCI1LjAiLCI0LjAiLCI0LjkwIiwic3BsaXQiLCJjbGVhbnVwT1MiLCJnZXRPUyIsInB1c2giLCJ1bnNoaWZ0IiwiaW5kZXhPZiIsInBhdHRlcm5zIiwiZ2V0VmVyc2lvbiIsInBhcnNlRmxvYXQiLCJ0eXBlIiwiaXNIb3N0VHlwZSIsImxhbmciLCJTeXN0ZW0iLCJnZXRQcm9wZXJ0eSIsInJlcXVpcmUiLCJqb2luIiwiZSIsInN5c3RlbSIsInByb2Nlc3MiLCJicm93c2VyIiwidmVyc2lvbnMiLCJlbGVjdHJvbiIsIm5vZGUiLCJudyIsInJ1bnRpbWUiLCJmbGFzaCIsIkNhcGFiaWxpdGllcyIsInBoYW50b20iLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJkb2N1bWVudE1vZGUiLCJ0b0ZpeGVkIiwiYXBwTWlub3JWZXJzaW9uIiwiZXh0ZXJuYWwiLCJwYXJzZUludCIsImFyY2hpdGVjdHVyZSIsImZhbWlseSIsImNwdUNsYXNzIiwidW5kZWZpbmVkIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJhZGRTY3JvbGxFdmVudExpc3RlbmVyIiwiZnVuIiwidGlja2luZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldFBhZ2VTY3JvbGxQb3NpdGlvblRvcCIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxUb3AiLCJIVE1MX1NFTEVDVE9SUyIsInVwZGF0ZUNoYXB0ZXJTdGF0dUluTmF2aWdhdGlvbk1lbnUiLCJsaXN0T2ZUaXRsZUxldmVsVHdvIiwibGFzdFRpdGxlSXNOb3RGb3VuZCIsInRpdGxlTGV2ZWxUd28iLCJpc0FjdGl2ZSIsImNsYXNzbmFtZSIsInNldE5hdmlnYXRpb25NZW51X0NoYXB0ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJlbGVtZW50IiwibmF2aWdhdGlvbk1lbnVFbGVtZW50IiwiX2VsZW1lbnQiLCJfZWxlbWVudEluTWVudSIsImdldEVsZW1lbnRJbk1lbnUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsIl9lbGVtZW50SW5NZW51Q29udGFpbnNBY3RpdmVDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImxpc3RPZkxldmVsVHdvSW5NZW51IiwicXVlcnlTZWxlY3RvckFsbCIsIk5BVklHQVRJT05fTUVOVSIsImxldmVsVHdvRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwiRWRpdG9yTWFuYWdlcl9FZGl0b3JNYW5hZ2VyIiwia290bGluRWRpdG9ycyIsIl9lZGl0b3JzIiwiX3NldExpc3RlbmVyRm9yRWRpdG9yc0F1dG9FeGVjdXRpb24iLCJlZGl0b3IiLCJpc09uU2NyZWVuIiwiaGFzTm90QmVlbkV4ZWN1dGVkIiwiZXhlY3V0ZSIsInJ1blZpc2libGVFZGl0b3JzIiwiY3JlYXRlSFRNTEVsZW1lbnQiLCJ0YWdOYW1lIiwiY29udGVudCIsIm5ld0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiaHRtbEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsYXNzTmFtZSIsIkVkaXRvcl9FZGl0b3IiLCJzZWxlY3RvciIsInBsYXRmb3JtT3NOYW1lIiwib25DaGFuZ2UiLCJURVhUX1NIT1JUQ1VUIiwicnVuIiwibWFjT3MiLCJ3aW5kb3dzIiwibGludXgiLCJNT1JFX1RIQU5fT05DRV9DT0RFX0NIQU5HRURfQ0xBU1NOQU1FIiwiU0hPUlRDVVRfSU5GT19DTEFTU05BTUUiLCJfaGFzQmVlbkV4ZWN1dGVkIiwiX2V2ZW50RnVuY3Rpb25zIiwiZ2V0SW5zdGFuY2UiLCJfS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlIiwiY29kZSIsImNoYW5nZWRDb3VudGVyIiwia290bGluRWRpdG9yQ29udGFpbmVyIiwidGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50IiwiUExBVEZPUk1fT1NfVVNFUl9OQU1FIiwiX29uQ2hhbmdlIiwiX3NlbGVjdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJLb3RsaW5QbGF5Z3JvdW5kIiwidGhlbiIsIl9rb3RsaW5FZGl0b3JDb250YWluZXIiLCJub2RlcyIsImNvZGVBcmVhIiwicXVlcnlTZWxlY3RvciIsIkNPREVfQVJFQSIsIkhUTUxFbGVtZW50IiwiX2NvZGVBcmVhIiwiY29kZU1pcnJvclN0eWxlRWxlbWVudCIsImVkaXRvclRoZW1lQ2xhc3NuYW1lIiwiZ2V0Q29va2llIiwibWF0Y2giLCJjb29raWUiLCJib3R0b21fb2ZfY29kZUFyZWFfaXNfYWJvdmVfYm90dG9tX29mX3NjcmVlbiIsImJvdHRvbSIsImJvdHRvbV9vZl9jb2RlQXJlYV9pc19iZWxvd190b3Bfb2Zfc2NyZWVuIiwicmVqZWN0IiwiRXJyb3IiLCJLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UiLCJnZXRVc2VyT3MiLCJwbGF0Zm9ybV9kZWZhdWx0IiwiYSIsInBsYXlncm91bmQiLCJzY3JpcHREYXRhIiwidXJsRGF0YSIsImxvY2F0aW9uIiwiaGFzaCIsImRlZmF1bHRSZXR1cm4iLCJoYXNTY3JpcHREYXRhIiwic2NyaXB0RnJvbVVybCIsIkpTT04iLCJSYXdEZWZsYXRlIiwiaW5mbGF0ZSIsImF0b2IiLCJkZWNvZGUiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRVcmxEYXRhIiwiY29kZUVsZW1lbnRGb3JLb3RsaW5QbGF5Z3JvdW5kIiwidGV4dENvbnRlbnQiLCJvbkNvZGVDaGFuZ2UiLCJzY3JpcHQiLCJsb2NhdGlvbkhhc2giLCJidG9hIiwiZGVmbGF0ZSIsImVuY29kZSIsInN0cmluZ2lmeSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJ1cGRhdGVIYXNoIiwidXBkYXRlVXJsQW5kU2NyaXB0RGF0YSIsImluaXQiLCJvbnBvcHN0YXRlIiwibG9nIiwiY29kZW1pcnJvciIsInVybFNjcmlwdEhpc3RvcnkiLCJjb2RlRWxlbWVudHNGb3JLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5pdCIsImxpc3RPZkVkaXRvciIsIm51bWJlck9mRWRpdG9yc0luaXRpYWxpc2VkIiwiY29kZUVsZW1lbnQiLCJlZGl0b3JNYW5hZ2VyIiwicmVmZXJlbmNlRWxlbWVudEZvckZpeGVkTWVudSIsInRvcEVsZW1lbnRGaXhlZE92ZXJNZW51IiwiaGVpZ2h0T2ZGaXhlZEVsZW1lbnRUaGF0SGlkZXNNZW51IiwiaGVpZ2h0IiwicmVmUG9zaXRpb25Gb3JGaXhlZE1lbnUiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ1RvcCIsInNldE1lbnVQb3NpdGlvbiIsIkNPTlRFTlQiLCJUT1BfSEVBREVSIiwiY3VycmVudFNlY3Rpb25OYW1lRWxlbWVudCIsIkNVUlJFTlRfU0VDVElPTl9OQU1FIiwicGFnZVRpdGxlRWxlbWVudCIsImdldEN1cnJlbnRTZWN0aW9uTmFtZSIsInNldEN1cnJlbnRTZWN0aW9uTmFtZSIsImxpc3RUb1JldHVybiIsIlRJVExFX1RXT19FTEVNRU5UUyIsIk5BVklHQVRJT05fTUVOVV9FTEVNRU5UIiwibmF2aWdhdGlvblR3b0VsZW1lbnQiLCJyZXZlcnNlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFD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RXZFLE1BRU12SSxFQUFPbkksU0FBU21JLEtBRWhCd0ksT0FBZ0V6SixJQUE1QndKLEVBQXlDLEVBQUlBLEVBQXdCdEgsd0JBQXdCd0gsT0FFdklsSixFQUF1QixLQUVuQixNQUVNbUosRUFGMEIvSixTQUFVcEssT0FBT29VLGlCQUFpQkwsR0FBOEJNLFlBRXRDSixFQUV2RDNJLEtBQThCNkksSUFBNEIxSSxFQUFLcUIsVUFBVVEsU0FabEQsY0FhdEI3QixFQUFLcUIsVUFBVUMsSUFiTyxjQWNmekIsS0FBOEI2SSxHQUEyQjFJLEVBQUtxQixVQUFVUSxTQWR6RCxlQWV0QjdCLEVBQUtxQixVQUFVRSxPQWZPLGdCSFM5QnNILENBQ0loUixTQUFTZ04sY0FBYzFFLEVBQWUySSxTQUN0Q2pSLFNBQVNnTixjQUFjMUUsRUFBZTRJLGFJaEJ2QyxXQUNILE1BQU1DLEVBQTRCblIsU0FBU2dOLGNBQWMxRSxFQUFlOEksc0JBRXJFRCxJQUNDQSxFQUEwQnBHLFVBSWxDLFdBQ0ksTUFBTXNHLEVBQW1CclIsU0FBU2dOLGNBQWMsTUFDaEQsT0FBR3FFLEVBQ1FBLEVBQWlCdEcsVUFFakIsR0FUK0J1RyxJSmUxQ0MsR0xNTyxJQUFJOUUsUUFBUSxDQUFDQyxFQUFTa0IsS0FDekIsTUFBTTRELEtBRUFDLEVBQXFCelIsU0FBUzRKLG9CQUFvQnRCLEVBQWUySSxjQUNqRVMsRUFBMEIxUixTQUFTZ04saUJBQWlCMUUsRUFBZXVCLG1CQUV6RSxJQUFJLE1BQU04SCxLQUF3QkYsRUFDOUJELEVBQWExTSxLQUFLLElBQUkrRCxFQUFROEksRUFBc0JELElBR3hEaEYsRUFBUThFLEVBQWFJLFdBRXJCaEUsRUFBTyxJQUFJQyxNQUFNLHFEQW5DR2pCLEtBQU10UixJQUMxQmlOLEVBQW1Dak4sR0FFbkNvTSxFQUF1QixLQUNuQmEsRUFBbUNqTiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuIiwiLyohXG4gKiBQbGF0Zm9ybS5qcyA8aHR0cHM6Ly9tdGhzLmJlL3BsYXRmb3JtPlxuICogQ29weXJpZ2h0IDIwMTQtMjAxOCBCZW5qYW1pbiBUYW4gPGh0dHBzOi8vYm5qbW50NG4ubm93LnNoLz5cbiAqIENvcHlyaWdodCAyMDExLTIwMTMgSm9obi1EYXZpZCBEYWx0b24gPGh0dHA6Ly9hbGx5b3VjYW5sZWV0LmNvbS8+XG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbXRocy5iZS9taXQ+XG4gKi9cbjsoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiogVXNlZCB0byBkZXRlcm1pbmUgaWYgdmFsdWVzIGFyZSBvZiB0aGUgbGFuZ3VhZ2UgdHlwZSBgT2JqZWN0YC4gKi9cbiAgdmFyIG9iamVjdFR5cGVzID0ge1xuICAgICdmdW5jdGlvbic6IHRydWUsXG4gICAgJ29iamVjdCc6IHRydWVcbiAgfTtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSAob2JqZWN0VHlwZXNbdHlwZW9mIHdpbmRvd10gJiYgd2luZG93KSB8fCB0aGlzO1xuXG4gIC8qKiBCYWNrdXAgcG9zc2libGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIG9sZFJvb3QgPSByb290O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBvYmplY3RUeXBlc1t0eXBlb2YgbW9kdWxlXSAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSBhbmQgdXNlIGl0IGFzIGByb290YC4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSBmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlICYmIHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuICBpZiAoZnJlZUdsb2JhbCAmJiAoZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHwgZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsKSkge1xuICAgIHJvb3QgPSBmcmVlR2xvYmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYXMgdGhlIG1heGltdW0gbGVuZ3RoIG9mIGFuIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgKiBTZWUgdGhlIFtFUzYgc3BlY10oaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGgpXG4gICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAqL1xuICB2YXIgbWF4U2FmZUludGVnZXIgPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuXG4gIC8qKiBSZWd1bGFyIGV4cHJlc3Npb24gdG8gZGV0ZWN0IE9wZXJhLiAqL1xuICB2YXIgcmVPcGVyYSA9IC9cXGJPcGVyYS87XG5cbiAgLyoqIFBvc3NpYmxlIGdsb2JhbCBvYmplY3QuICovXG4gIHZhciB0aGlzQmluZGluZyA9IHRoaXM7XG5cbiAgLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAvKiogVXNlZCB0byBjaGVjayBmb3Igb3duIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LiAqL1xuICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBpbnRlcm5hbCBgW1tDbGFzc11dYCBvZiB2YWx1ZXMuICovXG4gIHZhciB0b1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyBhIHN0cmluZyB2YWx1ZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgIHN0cmluZyA9IFN0cmluZyhzdHJpbmcpO1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gIH1cblxuICAvKipcbiAgICogQSB1dGlsaXR5IGZ1bmN0aW9uIHRvIGNsZWFuIHVwIHRoZSBPUyBuYW1lLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3MgVGhlIE9TIG5hbWUgdG8gY2xlYW4gdXAuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbcGF0dGVybl0gQSBgUmVnRXhwYCBwYXR0ZXJuIG1hdGNoaW5nIHRoZSBPUyBuYW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhYmVsXSBBIGxhYmVsIGZvciB0aGUgT1MuXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhbnVwT1Mob3MsIHBhdHRlcm4sIGxhYmVsKSB7XG4gICAgLy8gUGxhdGZvcm0gdG9rZW5zIGFyZSBkZWZpbmVkIGF0OlxuICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNzUwMyhWUy44NSkuYXNweFxuICAgIC8vIGh0dHA6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMDgxMTIyMDUzOTUwL2h0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNzUwMyhWUy44NSkuYXNweFxuICAgIHZhciBkYXRhID0ge1xuICAgICAgJzEwLjAnOiAnMTAnLFxuICAgICAgJzYuNCc6ICAnMTAgVGVjaG5pY2FsIFByZXZpZXcnLFxuICAgICAgJzYuMyc6ICAnOC4xJyxcbiAgICAgICc2LjInOiAgJzgnLFxuICAgICAgJzYuMSc6ICAnU2VydmVyIDIwMDggUjIgLyA3JyxcbiAgICAgICc2LjAnOiAgJ1NlcnZlciAyMDA4IC8gVmlzdGEnLFxuICAgICAgJzUuMic6ICAnU2VydmVyIDIwMDMgLyBYUCA2NC1iaXQnLFxuICAgICAgJzUuMSc6ICAnWFAnLFxuICAgICAgJzUuMDEnOiAnMjAwMCBTUDEnLFxuICAgICAgJzUuMCc6ICAnMjAwMCcsXG4gICAgICAnNC4wJzogICdOVCcsXG4gICAgICAnNC45MCc6ICdNRSdcbiAgICB9O1xuICAgIC8vIERldGVjdCBXaW5kb3dzIHZlcnNpb24gZnJvbSBwbGF0Zm9ybSB0b2tlbnMuXG4gICAgaWYgKHBhdHRlcm4gJiYgbGFiZWwgJiYgL15XaW4vaS50ZXN0KG9zKSAmJiAhL15XaW5kb3dzIFBob25lIC9pLnRlc3Qob3MpICYmXG4gICAgICAgIChkYXRhID0gZGF0YVsvW1xcZC5dKyQvLmV4ZWMob3MpXSkpIHtcbiAgICAgIG9zID0gJ1dpbmRvd3MgJyArIGRhdGE7XG4gICAgfVxuICAgIC8vIENvcnJlY3QgY2hhcmFjdGVyIGNhc2UgYW5kIGNsZWFudXAgc3RyaW5nLlxuICAgIG9zID0gU3RyaW5nKG9zKTtcblxuICAgIGlmIChwYXR0ZXJuICYmIGxhYmVsKSB7XG4gICAgICBvcyA9IG9zLnJlcGxhY2UoUmVnRXhwKHBhdHRlcm4sICdpJyksIGxhYmVsKTtcbiAgICB9XG5cbiAgICBvcyA9IGZvcm1hdChcbiAgICAgIG9zLnJlcGxhY2UoLyBjZSQvaSwgJyBDRScpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJocHcvaSwgJ3dlYicpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJNYWNpbnRvc2hcXGIvLCAnTWFjIE9TJylcbiAgICAgICAgLnJlcGxhY2UoL19Qb3dlclBDXFxiL2ksICcgT1MnKVxuICAgICAgICAucmVwbGFjZSgvXFxiKE9TIFgpIFteIFxcZF0rL2ksICckMScpXG4gICAgICAgIC5yZXBsYWNlKC9cXGJNYWMgKE9TIFgpXFxiLywgJyQxJylcbiAgICAgICAgLnJlcGxhY2UoL1xcLyhcXGQpLywgJyAkMScpXG4gICAgICAgIC5yZXBsYWNlKC9fL2csICcuJylcbiAgICAgICAgLnJlcGxhY2UoLyg/OiBCZVBDfFsgLl0qZmNbIFxcZC5dKykkL2ksICcnKVxuICAgICAgICAucmVwbGFjZSgvXFxieDg2XFwuNjRcXGIvZ2ksICd4ODZfNjQnKVxuICAgICAgICAucmVwbGFjZSgvXFxiKFdpbmRvd3MgUGhvbmUpIE9TXFxiLywgJyQxJylcbiAgICAgICAgLnJlcGxhY2UoL1xcYihDaHJvbWUgT1MgXFx3KykgW1xcZC5dK1xcYi8sICckMScpXG4gICAgICAgIC5zcGxpdCgnIG9uICcpWzBdXG4gICAgKTtcblxuICAgIHJldHVybiBvcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpdGVyYXRpb24gdXRpbGl0eSBmb3IgYXJyYXlzIGFuZCBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBlYWNoKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gb2JqZWN0ID8gb2JqZWN0Lmxlbmd0aCA6IDA7XG5cbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPiAtMSAmJiBsZW5ndGggPD0gbWF4U2FmZUludGVnZXIpIHtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKG9iamVjdFtpbmRleF0sIGluZGV4LCBvYmplY3QpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3JPd24ob2JqZWN0LCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyaW0gYW5kIGNvbmRpdGlvbmFsbHkgY2FwaXRhbGl6ZSBzdHJpbmcgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gZm9ybWF0LlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGZvcm1hdChzdHJpbmcpIHtcbiAgICBzdHJpbmcgPSB0cmltKHN0cmluZyk7XG4gICAgcmV0dXJuIC9eKD86d2ViT1N8aSg/Ok9TfFApKS8udGVzdChzdHJpbmcpXG4gICAgICA/IHN0cmluZ1xuICAgICAgOiBjYXBpdGFsaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcywgZXhlY3V0aW5nIHRoZSBgY2FsbGJhY2tgIGZvciBlYWNoLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gZXhlY3V0ZWQgcGVyIG93biBwcm9wZXJ0eS5cbiAgICovXG4gIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgIGNhbGxiYWNrKG9iamVjdFtrZXldLCBrZXksIG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGludGVybmFsIGBbW0NsYXNzXV1gIG9mIGEgdmFsdWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYFtbQ2xhc3NdXWAuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRDbGFzc09mKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGxcbiAgICAgID8gY2FwaXRhbGl6ZSh2YWx1ZSlcbiAgICAgIDogdG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhvc3Qgb2JqZWN0cyBjYW4gcmV0dXJuIHR5cGUgdmFsdWVzIHRoYXQgYXJlIGRpZmZlcmVudCBmcm9tIHRoZWlyIGFjdHVhbFxuICAgKiBkYXRhIHR5cGUuIFRoZSBvYmplY3RzIHdlIGFyZSBjb25jZXJuZWQgd2l0aCB1c3VhbGx5IHJldHVybiBub24tcHJpbWl0aXZlXG4gICAqIHR5cGVzIG9mIFwib2JqZWN0XCIsIFwiZnVuY3Rpb25cIiwgb3IgXCJ1bmtub3duXCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvd25lciBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgcHJvcGVydHkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgdmFsdWUgaXMgYSBub24tcHJpbWl0aXZlLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBpc0hvc3RUeXBlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB2YXIgdHlwZSA9IG9iamVjdCAhPSBudWxsID8gdHlwZW9mIG9iamVjdFtwcm9wZXJ0eV0gOiAnbnVtYmVyJztcbiAgICByZXR1cm4gIS9eKD86Ym9vbGVhbnxudW1iZXJ8c3RyaW5nfHVuZGVmaW5lZCkkLy50ZXN0KHR5cGUpICYmXG4gICAgICAodHlwZSA9PSAnb2JqZWN0JyA/ICEhb2JqZWN0W3Byb3BlcnR5XSA6IHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgc3RyaW5nIGZvciB1c2UgaW4gYSBgUmVnRXhwYCBieSBtYWtpbmcgaHlwaGVucyBhbmQgc3BhY2VzIG9wdGlvbmFsLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcXVhbGlmeS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHF1YWxpZmllZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBxdWFsaWZ5KHN0cmluZykge1xuICAgIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKC8oWyAtXSkoPyEkKS9nLCAnJDE/Jyk7XG4gIH1cblxuICAvKipcbiAgICogQSBiYXJlLWJvbmVzIGBBcnJheSNyZWR1Y2VgIGxpa2UgdXRpbGl0eSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Kn0gVGhlIGFjY3VtdWxhdGVkIHJlc3VsdC5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZHVjZShhcnJheSwgY2FsbGJhY2spIHtcbiAgICB2YXIgYWNjdW11bGF0b3IgPSBudWxsO1xuICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBhcnJheSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBmcm9tIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvXiArfCArJC9nLCAnJyk7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBwbGF0Zm9ybSBvYmplY3QuXG4gICAqXG4gICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IFt1YT1uYXZpZ2F0b3IudXNlckFnZW50XSBUaGUgdXNlciBhZ2VudCBzdHJpbmcgb3JcbiAgICogIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBBIHBsYXRmb3JtIG9iamVjdC5cbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlKHVhKSB7XG5cbiAgICAvKiogVGhlIGVudmlyb25tZW50IGNvbnRleHQgb2JqZWN0LiAqL1xuICAgIHZhciBjb250ZXh0ID0gcm9vdDtcblxuICAgIC8qKiBVc2VkIHRvIGZsYWcgd2hlbiBhIGN1c3RvbSBjb250ZXh0IGlzIHByb3ZpZGVkLiAqL1xuICAgIHZhciBpc0N1c3RvbUNvbnRleHQgPSB1YSAmJiB0eXBlb2YgdWEgPT0gJ29iamVjdCcgJiYgZ2V0Q2xhc3NPZih1YSkgIT0gJ1N0cmluZyc7XG5cbiAgICAvLyBKdWdnbGUgYXJndW1lbnRzLlxuICAgIGlmIChpc0N1c3RvbUNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQgPSB1YTtcbiAgICAgIHVhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKiogQnJvd3NlciBuYXZpZ2F0b3Igb2JqZWN0LiAqL1xuICAgIHZhciBuYXYgPSBjb250ZXh0Lm5hdmlnYXRvciB8fCB7fTtcblxuICAgIC8qKiBCcm93c2VyIHVzZXIgYWdlbnQgc3RyaW5nLiAqL1xuICAgIHZhciB1c2VyQWdlbnQgPSBuYXYudXNlckFnZW50IHx8ICcnO1xuXG4gICAgdWEgfHwgKHVhID0gdXNlckFnZW50KTtcblxuICAgIC8qKiBVc2VkIHRvIGZsYWcgd2hlbiBgdGhpc0JpbmRpbmdgIGlzIHRoZSBbTW9kdWxlU2NvcGVdLiAqL1xuICAgIHZhciBpc01vZHVsZVNjb3BlID0gaXNDdXN0b21Db250ZXh0IHx8IHRoaXNCaW5kaW5nID09IG9sZFJvb3Q7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYnJvd3NlciBpcyBsaWtlIENocm9tZS4gKi9cbiAgICB2YXIgbGlrZUNocm9tZSA9IGlzQ3VzdG9tQ29udGV4dFxuICAgICAgPyAhIW5hdi5saWtlQ2hyb21lXG4gICAgICA6IC9cXGJDaHJvbWVcXGIvLnRlc3QodWEpICYmICEvaW50ZXJuYWx8XFxuL2kudGVzdCh0b1N0cmluZy50b1N0cmluZygpKTtcblxuICAgIC8qKiBJbnRlcm5hbCBgW1tDbGFzc11dYCB2YWx1ZSBzaG9ydGN1dHMuICovXG4gICAgdmFyIG9iamVjdENsYXNzID0gJ09iamVjdCcsXG4gICAgICAgIGFpclJ1bnRpbWVDbGFzcyA9IGlzQ3VzdG9tQ29udGV4dCA/IG9iamVjdENsYXNzIDogJ1NjcmlwdEJyaWRnaW5nUHJveHlPYmplY3QnLFxuICAgICAgICBlbnZpcm9DbGFzcyA9IGlzQ3VzdG9tQ29udGV4dCA/IG9iamVjdENsYXNzIDogJ0Vudmlyb25tZW50JyxcbiAgICAgICAgamF2YUNsYXNzID0gKGlzQ3VzdG9tQ29udGV4dCAmJiBjb250ZXh0LmphdmEpID8gJ0phdmFQYWNrYWdlJyA6IGdldENsYXNzT2YoY29udGV4dC5qYXZhKSxcbiAgICAgICAgcGhhbnRvbUNsYXNzID0gaXNDdXN0b21Db250ZXh0ID8gb2JqZWN0Q2xhc3MgOiAnUnVudGltZU9iamVjdCc7XG5cbiAgICAvKiogRGV0ZWN0IEphdmEgZW52aXJvbm1lbnRzLiAqL1xuICAgIHZhciBqYXZhID0gL1xcYkphdmEvLnRlc3QoamF2YUNsYXNzKSAmJiBjb250ZXh0LmphdmE7XG5cbiAgICAvKiogRGV0ZWN0IFJoaW5vLiAqL1xuICAgIHZhciByaGlubyA9IGphdmEgJiYgZ2V0Q2xhc3NPZihjb250ZXh0LmVudmlyb25tZW50KSA9PSBlbnZpcm9DbGFzcztcblxuICAgIC8qKiBBIGNoYXJhY3RlciB0byByZXByZXNlbnQgYWxwaGEuICovXG4gICAgdmFyIGFscGhhID0gamF2YSA/ICdhJyA6ICdcXHUwM2IxJztcblxuICAgIC8qKiBBIGNoYXJhY3RlciB0byByZXByZXNlbnQgYmV0YS4gKi9cbiAgICB2YXIgYmV0YSA9IGphdmEgPyAnYicgOiAnXFx1MDNiMic7XG5cbiAgICAvKiogQnJvd3NlciBkb2N1bWVudCBvYmplY3QuICovXG4gICAgdmFyIGRvYyA9IGNvbnRleHQuZG9jdW1lbnQgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgT3BlcmEgYnJvd3NlciAoUHJlc3RvLWJhc2VkKS5cbiAgICAgKiBodHRwOi8vd3d3Lmhvd3RvY3JlYXRlLmNvLnVrL29wZXJhU3R1ZmYvb3BlcmFPYmplY3QuaHRtbFxuICAgICAqIGh0dHA6Ly9kZXYub3BlcmEuY29tL2FydGljbGVzL3ZpZXcvb3BlcmEtbWluaS13ZWItY29udGVudC1hdXRob3JpbmctZ3VpZGVsaW5lcy8jb3BlcmFtaW5pXG4gICAgICovXG4gICAgdmFyIG9wZXJhID0gY29udGV4dC5vcGVyYW1pbmkgfHwgY29udGV4dC5vcGVyYTtcblxuICAgIC8qKiBPcGVyYSBgW1tDbGFzc11dYC4gKi9cbiAgICB2YXIgb3BlcmFDbGFzcyA9IHJlT3BlcmEudGVzdChvcGVyYUNsYXNzID0gKGlzQ3VzdG9tQ29udGV4dCAmJiBvcGVyYSkgPyBvcGVyYVsnW1tDbGFzc11dJ10gOiBnZXRDbGFzc09mKG9wZXJhKSlcbiAgICAgID8gb3BlcmFDbGFzc1xuICAgICAgOiAob3BlcmEgPSBudWxsKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgdXNlZCBvdmVyIHRoZSBzY3JpcHQncyBsaWZldGltZS4gKi9cbiAgICB2YXIgZGF0YTtcblxuICAgIC8qKiBUaGUgQ1BVIGFyY2hpdGVjdHVyZS4gKi9cbiAgICB2YXIgYXJjaCA9IHVhO1xuXG4gICAgLyoqIFBsYXRmb3JtIGRlc2NyaXB0aW9uIGFycmF5LiAqL1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IFtdO1xuXG4gICAgLyoqIFBsYXRmb3JtIGFscGhhL2JldGEgaW5kaWNhdG9yLiAqL1xuICAgIHZhciBwcmVyZWxlYXNlID0gbnVsbDtcblxuICAgIC8qKiBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBlbnZpcm9ubWVudCBmZWF0dXJlcyBzaG91bGQgYmUgdXNlZCB0byByZXNvbHZlIHRoZSBwbGF0Zm9ybS4gKi9cbiAgICB2YXIgdXNlRmVhdHVyZXMgPSB1YSA9PSB1c2VyQWdlbnQ7XG5cbiAgICAvKiogVGhlIGJyb3dzZXIvZW52aXJvbm1lbnQgdmVyc2lvbi4gKi9cbiAgICB2YXIgdmVyc2lvbiA9IHVzZUZlYXR1cmVzICYmIG9wZXJhICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09ICdmdW5jdGlvbicgJiYgb3BlcmEudmVyc2lvbigpO1xuXG4gICAgLyoqIEEgZmxhZyB0byBpbmRpY2F0ZSBpZiB0aGUgT1MgZW5kcyB3aXRoIFwiLyBWZXJzaW9uXCIgKi9cbiAgICB2YXIgaXNTcGVjaWFsQ2FzZWRPUztcblxuICAgIC8qIERldGVjdGFibGUgbGF5b3V0IGVuZ2luZXMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIGxheW91dCA9IGdldExheW91dChbXG4gICAgICB7ICdsYWJlbCc6ICdFZGdlSFRNTCcsICdwYXR0ZXJuJzogJ0VkZ2UnIH0sXG4gICAgICAnVHJpZGVudCcsXG4gICAgICB7ICdsYWJlbCc6ICdXZWJLaXQnLCAncGF0dGVybic6ICdBcHBsZVdlYktpdCcgfSxcbiAgICAgICdpQ2FiJyxcbiAgICAgICdQcmVzdG8nLFxuICAgICAgJ05ldEZyb250JyxcbiAgICAgICdUYXNtYW4nLFxuICAgICAgJ0tIVE1MJyxcbiAgICAgICdHZWNrbydcbiAgICBdKTtcblxuICAgIC8qIERldGVjdGFibGUgYnJvd3NlciBuYW1lcyAob3JkZXIgaXMgaW1wb3J0YW50KS4gKi9cbiAgICB2YXIgbmFtZSA9IGdldE5hbWUoW1xuICAgICAgJ0Fkb2JlIEFJUicsXG4gICAgICAnQXJvcmEnLFxuICAgICAgJ0F2YW50IEJyb3dzZXInLFxuICAgICAgJ0JyZWFjaCcsXG4gICAgICAnQ2FtaW5vJyxcbiAgICAgICdFbGVjdHJvbicsXG4gICAgICAnRXBpcGhhbnknLFxuICAgICAgJ0Zlbm5lYycsXG4gICAgICAnRmxvY2snLFxuICAgICAgJ0dhbGVvbicsXG4gICAgICAnR3JlZW5Ccm93c2VyJyxcbiAgICAgICdpQ2FiJyxcbiAgICAgICdJY2V3ZWFzZWwnLFxuICAgICAgJ0stTWVsZW9uJyxcbiAgICAgICdLb25xdWVyb3InLFxuICAgICAgJ0x1bmFzY2FwZScsXG4gICAgICAnTWF4dGhvbicsXG4gICAgICB7ICdsYWJlbCc6ICdNaWNyb3NvZnQgRWRnZScsICdwYXR0ZXJuJzogJ0VkZ2UnIH0sXG4gICAgICAnTWlkb3JpJyxcbiAgICAgICdOb29rIEJyb3dzZXInLFxuICAgICAgJ1BhbGVNb29uJyxcbiAgICAgICdQaGFudG9tSlMnLFxuICAgICAgJ1JhdmVuJyxcbiAgICAgICdSZWtvbnEnLFxuICAgICAgJ1JvY2tNZWx0JyxcbiAgICAgIHsgJ2xhYmVsJzogJ1NhbXN1bmcgSW50ZXJuZXQnLCAncGF0dGVybic6ICdTYW1zdW5nQnJvd3NlcicgfSxcbiAgICAgICdTZWFNb25rZXknLFxuICAgICAgeyAnbGFiZWwnOiAnU2lsaycsICdwYXR0ZXJuJzogJyg/OkNsb3VkOXxTaWxrLUFjY2VsZXJhdGVkKScgfSxcbiAgICAgICdTbGVpcG5pcicsXG4gICAgICAnU2xpbUJyb3dzZXInLFxuICAgICAgeyAnbGFiZWwnOiAnU1JXYXJlIElyb24nLCAncGF0dGVybic6ICdJcm9uJyB9LFxuICAgICAgJ1N1bnJpc2UnLFxuICAgICAgJ1N3aWZ0Zm94JyxcbiAgICAgICdXYXRlcmZveCcsXG4gICAgICAnV2ViUG9zaXRpdmUnLFxuICAgICAgJ09wZXJhIE1pbmknLFxuICAgICAgeyAnbGFiZWwnOiAnT3BlcmEgTWluaScsICdwYXR0ZXJuJzogJ09QaU9TJyB9LFxuICAgICAgJ09wZXJhJyxcbiAgICAgIHsgJ2xhYmVsJzogJ09wZXJhJywgJ3BhdHRlcm4nOiAnT1BSJyB9LFxuICAgICAgJ0Nocm9tZScsXG4gICAgICB7ICdsYWJlbCc6ICdDaHJvbWUgTW9iaWxlJywgJ3BhdHRlcm4nOiAnKD86Q3JpT1N8Q3JNbyknIH0sXG4gICAgICB7ICdsYWJlbCc6ICdGaXJlZm94JywgJ3BhdHRlcm4nOiAnKD86RmlyZWZveHxNaW5lZmllbGQpJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnRmlyZWZveCBmb3IgaU9TJywgJ3BhdHRlcm4nOiAnRnhpT1MnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdJRScsICdwYXR0ZXJuJzogJ0lFTW9iaWxlJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnSUUnLCAncGF0dGVybic6ICdNU0lFJyB9LFxuICAgICAgJ1NhZmFyaSdcbiAgICBdKTtcblxuICAgIC8qIERldGVjdGFibGUgcHJvZHVjdHMgKG9yZGVyIGlzIGltcG9ydGFudCkuICovXG4gICAgdmFyIHByb2R1Y3QgPSBnZXRQcm9kdWN0KFtcbiAgICAgIHsgJ2xhYmVsJzogJ0JsYWNrQmVycnknLCAncGF0dGVybic6ICdCQjEwJyB9LFxuICAgICAgJ0JsYWNrQmVycnknLFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFMnLCAncGF0dGVybic6ICdHVC1JOTAwMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTMicsICdwYXR0ZXJuJzogJ0dULUk5MTAwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFMzJywgJ3BhdHRlcm4nOiAnR1QtSTkzMDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzQnLCAncGF0dGVybic6ICdHVC1JOTUwMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNScsICdwYXR0ZXJuJzogJ1NNLUc5MDAnIH0sXG4gICAgICB7ICdsYWJlbCc6ICdHYWxheHkgUzYnLCAncGF0dGVybic6ICdTTS1HOTIwJyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM2IEVkZ2UnLCAncGF0dGVybic6ICdTTS1HOTI1JyB9LFxuICAgICAgeyAnbGFiZWwnOiAnR2FsYXh5IFM3JywgJ3BhdHRlcm4nOiAnU00tRzkzMCcgfSxcbiAgICAgIHsgJ2xhYmVsJzogJ0dhbGF4eSBTNyBFZGdlJywgJ3BhdHRlcm4nOiAnU00tRzkzNScgfSxcbiAgICAgICdHb29nbGUgVFYnLFxuICAgICAgJ0x1bWlhJyxcbiAgICAgICdpUGFkJyxcbiAgICAgICdpUG9kJyxcbiAgICAgICdpUGhvbmUnLFxuICAgICAgJ0tpbmRsZScsXG4gICAgICB7ICdsYWJlbCc6ICdLaW5kbGUgRmlyZScsICdwYXR0ZXJuJzogJyg/OkNsb3VkOXxTaWxrLUFjY2VsZXJhdGVkKScgfSxcbiAgICAgICdOZXh1cycsXG4gICAgICAnTm9vaycsXG4gICAgICAnUGxheUJvb2snLFxuICAgICAgJ1BsYXlTdGF0aW9uIFZpdGEnLFxuICAgICAgJ1BsYXlTdGF0aW9uJyxcbiAgICAgICdUb3VjaFBhZCcsXG4gICAgICAnVHJhbnNmb3JtZXInLFxuICAgICAgeyAnbGFiZWwnOiAnV2lpIFUnLCAncGF0dGVybic6ICdXaWlVJyB9LFxuICAgICAgJ1dpaScsXG4gICAgICAnWGJveCBPbmUnLFxuICAgICAgeyAnbGFiZWwnOiAnWGJveCAzNjAnLCAncGF0dGVybic6ICdYYm94JyB9LFxuICAgICAgJ1hvb20nXG4gICAgXSk7XG5cbiAgICAvKiBEZXRlY3RhYmxlIG1hbnVmYWN0dXJlcnMuICovXG4gICAgdmFyIG1hbnVmYWN0dXJlciA9IGdldE1hbnVmYWN0dXJlcih7XG4gICAgICAnQXBwbGUnOiB7ICdpUGFkJzogMSwgJ2lQaG9uZSc6IDEsICdpUG9kJzogMSB9LFxuICAgICAgJ0FyY2hvcyc6IHt9LFxuICAgICAgJ0FtYXpvbic6IHsgJ0tpbmRsZSc6IDEsICdLaW5kbGUgRmlyZSc6IDEgfSxcbiAgICAgICdBc3VzJzogeyAnVHJhbnNmb3JtZXInOiAxIH0sXG4gICAgICAnQmFybmVzICYgTm9ibGUnOiB7ICdOb29rJzogMSB9LFxuICAgICAgJ0JsYWNrQmVycnknOiB7ICdQbGF5Qm9vayc6IDEgfSxcbiAgICAgICdHb29nbGUnOiB7ICdHb29nbGUgVFYnOiAxLCAnTmV4dXMnOiAxIH0sXG4gICAgICAnSFAnOiB7ICdUb3VjaFBhZCc6IDEgfSxcbiAgICAgICdIVEMnOiB7fSxcbiAgICAgICdMRyc6IHt9LFxuICAgICAgJ01pY3Jvc29mdCc6IHsgJ1hib3gnOiAxLCAnWGJveCBPbmUnOiAxIH0sXG4gICAgICAnTW90b3JvbGEnOiB7ICdYb29tJzogMSB9LFxuICAgICAgJ05pbnRlbmRvJzogeyAnV2lpIFUnOiAxLCAgJ1dpaSc6IDEgfSxcbiAgICAgICdOb2tpYSc6IHsgJ0x1bWlhJzogMSB9LFxuICAgICAgJ1NhbXN1bmcnOiB7ICdHYWxheHkgUyc6IDEsICdHYWxheHkgUzInOiAxLCAnR2FsYXh5IFMzJzogMSwgJ0dhbGF4eSBTNCc6IDEgfSxcbiAgICAgICdTb255JzogeyAnUGxheVN0YXRpb24nOiAxLCAnUGxheVN0YXRpb24gVml0YSc6IDEgfVxuICAgIH0pO1xuXG4gICAgLyogRGV0ZWN0YWJsZSBvcGVyYXRpbmcgc3lzdGVtcyAob3JkZXIgaXMgaW1wb3J0YW50KS4gKi9cbiAgICB2YXIgb3MgPSBnZXRPUyhbXG4gICAgICAnV2luZG93cyBQaG9uZScsXG4gICAgICAnQW5kcm9pZCcsXG4gICAgICAnQ2VudE9TJyxcbiAgICAgIHsgJ2xhYmVsJzogJ0Nocm9tZSBPUycsICdwYXR0ZXJuJzogJ0NyT1MnIH0sXG4gICAgICAnRGViaWFuJyxcbiAgICAgICdGZWRvcmEnLFxuICAgICAgJ0ZyZWVCU0QnLFxuICAgICAgJ0dlbnRvbycsXG4gICAgICAnSGFpa3UnLFxuICAgICAgJ0t1YnVudHUnLFxuICAgICAgJ0xpbnV4IE1pbnQnLFxuICAgICAgJ09wZW5CU0QnLFxuICAgICAgJ1JlZCBIYXQnLFxuICAgICAgJ1N1U0UnLFxuICAgICAgJ1VidW50dScsXG4gICAgICAnWHVidW50dScsXG4gICAgICAnQ3lnd2luJyxcbiAgICAgICdTeW1iaWFuIE9TJyxcbiAgICAgICdocHdPUycsXG4gICAgICAnd2ViT1MgJyxcbiAgICAgICd3ZWJPUycsXG4gICAgICAnVGFibGV0IE9TJyxcbiAgICAgICdUaXplbicsXG4gICAgICAnTGludXgnLFxuICAgICAgJ01hYyBPUyBYJyxcbiAgICAgICdNYWNpbnRvc2gnLFxuICAgICAgJ01hYycsXG4gICAgICAnV2luZG93cyA5ODsnLFxuICAgICAgJ1dpbmRvd3MgJ1xuICAgIF0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIGxheW91dCBlbmdpbmUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgbGF5b3V0IGVuZ2luZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRMYXlvdXQoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIGd1ZXNzKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgUmVnRXhwKCdcXFxcYicgKyAoXG4gICAgICAgICAgZ3Vlc3MucGF0dGVybiB8fCBxdWFsaWZ5KGd1ZXNzKVxuICAgICAgICApICsgJ1xcXFxiJywgJ2knKS5leGVjKHVhKSAmJiAoZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIG1hbnVmYWN0dXJlciBmcm9tIGFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGd1ZXNzZXMgQW4gb2JqZWN0IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgbWFudWZhY3R1cmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hbnVmYWN0dXJlcihndWVzc2VzKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKGd1ZXNzZXMsIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgICAvLyBMb29rdXAgdGhlIG1hbnVmYWN0dXJlciBieSBwcm9kdWN0IG9yIHNjYW4gdGhlIFVBIGZvciB0aGUgbWFudWZhY3R1cmVyLlxuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IChcbiAgICAgICAgICB2YWx1ZVtwcm9kdWN0XSB8fFxuICAgICAgICAgIHZhbHVlWy9eW2Etel0rKD86ICtbYS16XStcXGIpKi9pLmV4ZWMocHJvZHVjdCldIHx8XG4gICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBxdWFsaWZ5KGtleSkgKyAnKD86XFxcXGJ8XFxcXHcqXFxcXGQpJywgJ2knKS5leGVjKHVhKVxuICAgICAgICApICYmIGtleTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpY2tzIHRoZSBicm93c2VyIG5hbWUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgYnJvd3NlciBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hbWUoZ3Vlc3Nlcykge1xuICAgICAgcmV0dXJuIHJlZHVjZShndWVzc2VzLCBmdW5jdGlvbihyZXN1bHQsIGd1ZXNzKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgUmVnRXhwKCdcXFxcYicgKyAoXG4gICAgICAgICAgZ3Vlc3MucGF0dGVybiB8fCBxdWFsaWZ5KGd1ZXNzKVxuICAgICAgICApICsgJ1xcXFxiJywgJ2knKS5leGVjKHVhKSAmJiAoZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGlja3MgdGhlIE9TIG5hbWUgZnJvbSBhbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBndWVzc2VzIEFuIGFycmF5IG9mIGd1ZXNzZXMuXG4gICAgICogQHJldHVybnMge251bGx8c3RyaW5nfSBUaGUgZGV0ZWN0ZWQgT1MgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRPUyhndWVzc2VzKSB7XG4gICAgICByZXR1cm4gcmVkdWNlKGd1ZXNzZXMsIGZ1bmN0aW9uKHJlc3VsdCwgZ3Vlc3MpIHtcbiAgICAgICAgdmFyIHBhdHRlcm4gPSBndWVzcy5wYXR0ZXJuIHx8IHF1YWxpZnkoZ3Vlc3MpO1xuICAgICAgICBpZiAoIXJlc3VsdCAmJiAocmVzdWx0ID1cbiAgICAgICAgICAgICAgUmVnRXhwKCdcXFxcYicgKyBwYXR0ZXJuICsgJyg/Oi9bXFxcXGQuXSt8WyBcXFxcdy5dKiknLCAnaScpLmV4ZWModWEpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xlYW51cE9TKHJlc3VsdCwgcGF0dGVybiwgZ3Vlc3MubGFiZWwgfHwgZ3Vlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaWNrcyB0aGUgcHJvZHVjdCBuYW1lIGZyb20gYW4gYXJyYXkgb2YgZ3Vlc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZ3Vlc3NlcyBBbiBhcnJheSBvZiBndWVzc2VzLlxuICAgICAqIEByZXR1cm5zIHtudWxsfHN0cmluZ30gVGhlIGRldGVjdGVkIHByb2R1Y3QgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQcm9kdWN0KGd1ZXNzZXMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UoZ3Vlc3NlcywgZnVuY3Rpb24ocmVzdWx0LCBndWVzcykge1xuICAgICAgICB2YXIgcGF0dGVybiA9IGd1ZXNzLnBhdHRlcm4gfHwgcXVhbGlmeShndWVzcyk7XG4gICAgICAgIGlmICghcmVzdWx0ICYmIChyZXN1bHQgPVxuICAgICAgICAgICAgICBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnICpcXFxcZCtbLlxcXFx3X10qJywgJ2knKS5leGVjKHVhKSB8fFxuICAgICAgICAgICAgICBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnICpcXFxcdystW1xcXFx3XSonLCAnaScpLmV4ZWModWEpIHx8XG4gICAgICAgICAgICAgIFJlZ0V4cCgnXFxcXGInICsgcGF0dGVybiArICcoPzo7ICooPzpbYS16XStbXy1dKT9bYS16XStcXFxcZCt8W14gKCk7LV0qKScsICdpJykuZXhlYyh1YSlcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAvLyBTcGxpdCBieSBmb3J3YXJkIHNsYXNoIGFuZCBhcHBlbmQgcHJvZHVjdCB2ZXJzaW9uIGlmIG5lZWRlZC5cbiAgICAgICAgICBpZiAoKHJlc3VsdCA9IFN0cmluZygoZ3Vlc3MubGFiZWwgJiYgIVJlZ0V4cChwYXR0ZXJuLCAnaScpLnRlc3QoZ3Vlc3MubGFiZWwpKSA/IGd1ZXNzLmxhYmVsIDogcmVzdWx0KS5zcGxpdCgnLycpKVsxXSAmJiAhL1tcXGQuXSsvLnRlc3QocmVzdWx0WzBdKSkge1xuICAgICAgICAgICAgcmVzdWx0WzBdICs9ICcgJyArIHJlc3VsdFsxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ29ycmVjdCBjaGFyYWN0ZXIgY2FzZSBhbmQgY2xlYW51cCBzdHJpbmcuXG4gICAgICAgICAgZ3Vlc3MgPSBndWVzcy5sYWJlbCB8fCBndWVzcztcbiAgICAgICAgICByZXN1bHQgPSBmb3JtYXQocmVzdWx0WzBdXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAocGF0dGVybiwgJ2knKSwgZ3Vlc3MpXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAoJzsgKig/OicgKyBndWVzcyArICdbXy1dKT8nLCAnaScpLCAnICcpXG4gICAgICAgICAgICAucmVwbGFjZShSZWdFeHAoJygnICsgZ3Vlc3MgKyAnKVstXy5dPyhcXFxcdyknLCAnaScpLCAnJDEgJDInKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHRoZSB2ZXJzaW9uIHVzaW5nIGFuIGFycmF5IG9mIFVBIHBhdHRlcm5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXR0ZXJucyBBbiBhcnJheSBvZiBVQSBwYXR0ZXJucy5cbiAgICAgKiBAcmV0dXJucyB7bnVsbHxzdHJpbmd9IFRoZSBkZXRlY3RlZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZlcnNpb24ocGF0dGVybnMpIHtcbiAgICAgIHJldHVybiByZWR1Y2UocGF0dGVybnMsIGZ1bmN0aW9uKHJlc3VsdCwgcGF0dGVybikge1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IChSZWdFeHAocGF0dGVybiArXG4gICAgICAgICAgJyg/Oi1bXFxcXGQuXSsvfCg/OiBmb3IgW1xcXFx3LV0rKT9bIC8tXSkoW1xcXFxkLl0rW14gKCk7L18tXSopJywgJ2knKS5leGVjKHVhKSB8fCAwKVsxXSB8fCBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgcGxhdGZvcm0uZGVzY3JpcHRpb25gIHdoZW4gdGhlIHBsYXRmb3JtIG9iamVjdCBpcyBjb2VyY2VkIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQG5hbWUgdG9TdHJpbmdcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGBwbGF0Zm9ybS5kZXNjcmlwdGlvbmAgaWYgYXZhaWxhYmxlLCBlbHNlIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1N0cmluZ1BsYXRmb3JtKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQ29udmVydCBsYXlvdXQgdG8gYW4gYXJyYXkgc28gd2UgY2FuIGFkZCBleHRyYSBkZXRhaWxzLlxuICAgIGxheW91dCAmJiAobGF5b3V0ID0gW2xheW91dF0pO1xuXG4gICAgLy8gRGV0ZWN0IHByb2R1Y3QgbmFtZXMgdGhhdCBjb250YWluIHRoZWlyIG1hbnVmYWN0dXJlcidzIG5hbWUuXG4gICAgaWYgKG1hbnVmYWN0dXJlciAmJiAhcHJvZHVjdCkge1xuICAgICAgcHJvZHVjdCA9IGdldFByb2R1Y3QoW21hbnVmYWN0dXJlcl0pO1xuICAgIH1cbiAgICAvLyBDbGVhbiB1cCBHb29nbGUgVFYuXG4gICAgaWYgKChkYXRhID0gL1xcYkdvb2dsZSBUVlxcYi8uZXhlYyhwcm9kdWN0KSkpIHtcbiAgICAgIHByb2R1Y3QgPSBkYXRhWzBdO1xuICAgIH1cbiAgICAvLyBEZXRlY3Qgc2ltdWxhdG9ycy5cbiAgICBpZiAoL1xcYlNpbXVsYXRvclxcYi9pLnRlc3QodWEpKSB7XG4gICAgICBwcm9kdWN0ID0gKHByb2R1Y3QgPyBwcm9kdWN0ICsgJyAnIDogJycpICsgJ1NpbXVsYXRvcic7XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBNaW5pIDgrIHJ1bm5pbmcgaW4gVHVyYm8vVW5jb21wcmVzc2VkIG1vZGUgb24gaU9TLlxuICAgIGlmIChuYW1lID09ICdPcGVyYSBNaW5pJyAmJiAvXFxiT1BpT1NcXGIvLnRlc3QodWEpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdydW5uaW5nIGluIFR1cmJvL1VuY29tcHJlc3NlZCBtb2RlJyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBJRSBNb2JpbGUgMTEuXG4gICAgaWYgKG5hbWUgPT0gJ0lFJyAmJiAvXFxibGlrZSBpUGhvbmUgT1NcXGIvLnRlc3QodWEpKSB7XG4gICAgICBkYXRhID0gcGFyc2UodWEucmVwbGFjZSgvbGlrZSBpUGhvbmUgT1MvLCAnJykpO1xuICAgICAgbWFudWZhY3R1cmVyID0gZGF0YS5tYW51ZmFjdHVyZXI7XG4gICAgICBwcm9kdWN0ID0gZGF0YS5wcm9kdWN0O1xuICAgIH1cbiAgICAvLyBEZXRlY3QgaU9TLlxuICAgIGVsc2UgaWYgKC9eaVAvLnRlc3QocHJvZHVjdCkpIHtcbiAgICAgIG5hbWUgfHwgKG5hbWUgPSAnU2FmYXJpJyk7XG4gICAgICBvcyA9ICdpT1MnICsgKChkYXRhID0gLyBPUyAoW1xcZF9dKykvaS5leGVjKHVhKSlcbiAgICAgICAgPyAnICcgKyBkYXRhWzFdLnJlcGxhY2UoL18vZywgJy4nKVxuICAgICAgICA6ICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEt1YnVudHUuXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnS29ucXVlcm9yJyAmJiAhL2J1bnR1L2kudGVzdChvcykpIHtcbiAgICAgIG9zID0gJ0t1YnVudHUnO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgQW5kcm9pZCBicm93c2Vycy5cbiAgICBlbHNlIGlmICgobWFudWZhY3R1cmVyICYmIG1hbnVmYWN0dXJlciAhPSAnR29vZ2xlJyAmJlxuICAgICAgICAoKC9DaHJvbWUvLnRlc3QobmFtZSkgJiYgIS9cXGJNb2JpbGUgU2FmYXJpXFxiL2kudGVzdCh1YSkpIHx8IC9cXGJWaXRhXFxiLy50ZXN0KHByb2R1Y3QpKSkgfHxcbiAgICAgICAgKC9cXGJBbmRyb2lkXFxiLy50ZXN0KG9zKSAmJiAvXkNocm9tZS8udGVzdChuYW1lKSAmJiAvXFxiVmVyc2lvblxcLy9pLnRlc3QodWEpKSkge1xuICAgICAgbmFtZSA9ICdBbmRyb2lkIEJyb3dzZXInO1xuICAgICAgb3MgPSAvXFxiQW5kcm9pZFxcYi8udGVzdChvcykgPyBvcyA6ICdBbmRyb2lkJztcbiAgICB9XG4gICAgLy8gRGV0ZWN0IFNpbGsgZGVza3RvcC9hY2NlbGVyYXRlZCBtb2Rlcy5cbiAgICBlbHNlIGlmIChuYW1lID09ICdTaWxrJykge1xuICAgICAgaWYgKCEvXFxiTW9iaS9pLnRlc3QodWEpKSB7XG4gICAgICAgIG9zID0gJ0FuZHJvaWQnO1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIH1cbiAgICAgIGlmICgvQWNjZWxlcmF0ZWQgKj0gKnRydWUvaS50ZXN0KHVhKSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdhY2NlbGVyYXRlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEZXRlY3QgUGFsZU1vb24gaWRlbnRpZnlpbmcgYXMgRmlyZWZveC5cbiAgICBlbHNlIGlmIChuYW1lID09ICdQYWxlTW9vbicgJiYgKGRhdGEgPSAvXFxiRmlyZWZveFxcLyhbXFxkLl0rKVxcYi8uZXhlYyh1YSkpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdpZGVudGlmeWluZyBhcyBGaXJlZm94ICcgKyBkYXRhWzFdKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEZpcmVmb3ggT1MgYW5kIHByb2R1Y3RzIHJ1bm5pbmcgRmlyZWZveC5cbiAgICBlbHNlIGlmIChuYW1lID09ICdGaXJlZm94JyAmJiAoZGF0YSA9IC9cXGIoTW9iaWxlfFRhYmxldHxUVilcXGIvaS5leGVjKHVhKSkpIHtcbiAgICAgIG9zIHx8IChvcyA9ICdGaXJlZm94IE9TJyk7XG4gICAgICBwcm9kdWN0IHx8IChwcm9kdWN0ID0gZGF0YVsxXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBmYWxzZSBwb3NpdGl2ZXMgZm9yIEZpcmVmb3gvU2FmYXJpLlxuICAgIGVsc2UgaWYgKCFuYW1lIHx8IChkYXRhID0gIS9cXGJNaW5lZmllbGRcXGIvaS50ZXN0KHVhKSAmJiAvXFxiKD86RmlyZWZveHxTYWZhcmkpXFxiLy5leGVjKG5hbWUpKSkge1xuICAgICAgLy8gRXNjYXBlIHRoZSBgL2AgZm9yIEZpcmVmb3ggMS5cbiAgICAgIGlmIChuYW1lICYmICFwcm9kdWN0ICYmIC9bXFwvLF18XlteKF0rP1xcKS8udGVzdCh1YS5zbGljZSh1YS5pbmRleE9mKGRhdGEgKyAnLycpICsgOCkpKSB7XG4gICAgICAgIC8vIENsZWFyIG5hbWUgb2YgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICBuYW1lID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFJlYXNzaWduIGEgZ2VuZXJpYyBuYW1lLlxuICAgICAgaWYgKChkYXRhID0gcHJvZHVjdCB8fCBtYW51ZmFjdHVyZXIgfHwgb3MpICYmXG4gICAgICAgICAgKHByb2R1Y3QgfHwgbWFudWZhY3R1cmVyIHx8IC9cXGIoPzpBbmRyb2lkfFN5bWJpYW4gT1N8VGFibGV0IE9TfHdlYk9TKVxcYi8udGVzdChvcykpKSB7XG4gICAgICAgIG5hbWUgPSAvW2Etel0rKD86IEhhdCk/L2kuZXhlYygvXFxiQW5kcm9pZFxcYi8udGVzdChvcykgPyBvcyA6IGRhdGEpICsgJyBCcm93c2VyJztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIENocm9tZSB2ZXJzaW9uIHRvIGRlc2NyaXB0aW9uIGZvciBFbGVjdHJvbi5cbiAgICBlbHNlIGlmIChuYW1lID09ICdFbGVjdHJvbicgJiYgKGRhdGEgPSAoL1xcYkNocm9tZVxcLyhbXFxkLl0rKVxcYi8uZXhlYyh1YSkgfHwgMClbMV0pKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKCdDaHJvbWl1bSAnICsgZGF0YSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBub24tT3BlcmEgKFByZXN0by1iYXNlZCkgdmVyc2lvbnMgKG9yZGVyIGlzIGltcG9ydGFudCkuXG4gICAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gZ2V0VmVyc2lvbihbXG4gICAgICAgICcoPzpDbG91ZDl8Q3JpT1N8Q3JNb3xFZGdlfEZ4aU9TfElFTW9iaWxlfElyb258T3BlcmEgP01pbml8T1BpT1N8T1BSfFJhdmVufFNhbXN1bmdCcm93c2VyfFNpbGsoPyEvW1xcXFxkLl0rJCkpJyxcbiAgICAgICAgJ1ZlcnNpb24nLFxuICAgICAgICBxdWFsaWZ5KG5hbWUpLFxuICAgICAgICAnKD86RmlyZWZveHxNaW5lZmllbGR8TmV0RnJvbnQpJ1xuICAgICAgXSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBzdHViYm9ybiBsYXlvdXQgZW5naW5lcy5cbiAgICBpZiAoKGRhdGEgPVxuICAgICAgICAgIGxheW91dCA9PSAnaUNhYicgJiYgcGFyc2VGbG9hdCh2ZXJzaW9uKSA+IDMgJiYgJ1dlYktpdCcgfHxcbiAgICAgICAgICAvXFxiT3BlcmFcXGIvLnRlc3QobmFtZSkgJiYgKC9cXGJPUFJcXGIvLnRlc3QodWEpID8gJ0JsaW5rJyA6ICdQcmVzdG8nKSB8fFxuICAgICAgICAgIC9cXGIoPzpNaWRvcml8Tm9va3xTYWZhcmkpXFxiL2kudGVzdCh1YSkgJiYgIS9eKD86VHJpZGVudHxFZGdlSFRNTCkkLy50ZXN0KGxheW91dCkgJiYgJ1dlYktpdCcgfHxcbiAgICAgICAgICAhbGF5b3V0ICYmIC9cXGJNU0lFXFxiL2kudGVzdCh1YSkgJiYgKG9zID09ICdNYWMgT1MnID8gJ1Rhc21hbicgOiAnVHJpZGVudCcpIHx8XG4gICAgICAgICAgbGF5b3V0ID09ICdXZWJLaXQnICYmIC9cXGJQbGF5U3RhdGlvblxcYig/ISBWaXRhXFxiKS9pLnRlc3QobmFtZSkgJiYgJ05ldEZyb250J1xuICAgICAgICApKSB7XG4gICAgICBsYXlvdXQgPSBbZGF0YV07XG4gICAgfVxuICAgIC8vIERldGVjdCBXaW5kb3dzIFBob25lIDcgZGVza3RvcCBtb2RlLlxuICAgIGlmIChuYW1lID09ICdJRScgJiYgKGRhdGEgPSAoLzsgKig/OlhCTFdQfFp1bmVXUCkoXFxkKykvaS5leGVjKHVhKSB8fCAwKVsxXSkpIHtcbiAgICAgIG5hbWUgKz0gJyBNb2JpbGUnO1xuICAgICAgb3MgPSAnV2luZG93cyBQaG9uZSAnICsgKC9cXCskLy50ZXN0KGRhdGEpID8gZGF0YSA6IGRhdGEgKyAnLngnKTtcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQoJ2Rlc2t0b3AgbW9kZScpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgV2luZG93cyBQaG9uZSA4LnggZGVza3RvcCBtb2RlLlxuICAgIGVsc2UgaWYgKC9cXGJXUERlc2t0b3BcXGIvaS50ZXN0KHVhKSkge1xuICAgICAgbmFtZSA9ICdJRSBNb2JpbGUnO1xuICAgICAgb3MgPSAnV2luZG93cyBQaG9uZSA4LngnO1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnZGVza3RvcCBtb2RlJyk7XG4gICAgICB2ZXJzaW9uIHx8ICh2ZXJzaW9uID0gKC9cXGJydjooW1xcZC5dKykvLmV4ZWModWEpIHx8IDApWzFdKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IElFIDExIGlkZW50aWZ5aW5nIGFzIG90aGVyIGJyb3dzZXJzLlxuICAgIGVsc2UgaWYgKG5hbWUgIT0gJ0lFJyAmJiBsYXlvdXQgPT0gJ1RyaWRlbnQnICYmIChkYXRhID0gL1xcYnJ2OihbXFxkLl0rKS8uZXhlYyh1YSkpKSB7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKCdpZGVudGlmeWluZyBhcyAnICsgbmFtZSArICh2ZXJzaW9uID8gJyAnICsgdmVyc2lvbiA6ICcnKSk7XG4gICAgICB9XG4gICAgICBuYW1lID0gJ0lFJztcbiAgICAgIHZlcnNpb24gPSBkYXRhWzFdO1xuICAgIH1cbiAgICAvLyBMZXZlcmFnZSBlbnZpcm9ubWVudCBmZWF0dXJlcy5cbiAgICBpZiAodXNlRmVhdHVyZXMpIHtcbiAgICAgIC8vIERldGVjdCBzZXJ2ZXItc2lkZSBlbnZpcm9ubWVudHMuXG4gICAgICAvLyBSaGlubyBoYXMgYSBnbG9iYWwgZnVuY3Rpb24gd2hpbGUgb3RoZXJzIGhhdmUgYSBnbG9iYWwgb2JqZWN0LlxuICAgICAgaWYgKGlzSG9zdFR5cGUoY29udGV4dCwgJ2dsb2JhbCcpKSB7XG4gICAgICAgIGlmIChqYXZhKSB7XG4gICAgICAgICAgZGF0YSA9IGphdmEubGFuZy5TeXN0ZW07XG4gICAgICAgICAgYXJjaCA9IGRhdGEuZ2V0UHJvcGVydHkoJ29zLmFyY2gnKTtcbiAgICAgICAgICBvcyA9IG9zIHx8IGRhdGEuZ2V0UHJvcGVydHkoJ29zLm5hbWUnKSArICcgJyArIGRhdGEuZ2V0UHJvcGVydHkoJ29zLnZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmhpbm8pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmVyc2lvbiA9IGNvbnRleHQucmVxdWlyZSgncmluZ28vZW5naW5lJykudmVyc2lvbi5qb2luKCcuJyk7XG4gICAgICAgICAgICBuYW1lID0gJ1JpbmdvSlMnO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgaWYgKChkYXRhID0gY29udGV4dC5zeXN0ZW0pICYmIGRhdGEuZ2xvYmFsLnN5c3RlbSA9PSBjb250ZXh0LnN5c3RlbSkge1xuICAgICAgICAgICAgICBuYW1lID0gJ05hcndoYWwnO1xuICAgICAgICAgICAgICBvcyB8fCAob3MgPSBkYXRhWzBdLm9zIHx8IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSAnUmhpbm8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICB0eXBlb2YgY29udGV4dC5wcm9jZXNzID09ICdvYmplY3QnICYmICFjb250ZXh0LnByb2Nlc3MuYnJvd3NlciAmJlxuICAgICAgICAgIChkYXRhID0gY29udGV4dC5wcm9jZXNzKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGEudmVyc2lvbnMgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS52ZXJzaW9ucy5lbGVjdHJvbiA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbi5wdXNoKCdOb2RlICcgKyBkYXRhLnZlcnNpb25zLm5vZGUpO1xuICAgICAgICAgICAgICBuYW1lID0gJ0VsZWN0cm9uJztcbiAgICAgICAgICAgICAgdmVyc2lvbiA9IGRhdGEudmVyc2lvbnMuZWxlY3Ryb247XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhLnZlcnNpb25zLm53ID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ0Nocm9taXVtICcgKyB2ZXJzaW9uLCAnTm9kZSAnICsgZGF0YS52ZXJzaW9ucy5ub2RlKTtcbiAgICAgICAgICAgICAgbmFtZSA9ICdOVy5qcyc7XG4gICAgICAgICAgICAgIHZlcnNpb24gPSBkYXRhLnZlcnNpb25zLm53O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSAnTm9kZS5qcyc7XG4gICAgICAgICAgICBhcmNoID0gZGF0YS5hcmNoO1xuICAgICAgICAgICAgb3MgPSBkYXRhLnBsYXRmb3JtO1xuICAgICAgICAgICAgdmVyc2lvbiA9IC9bXFxkLl0rLy5leGVjKGRhdGEudmVyc2lvbik7XG4gICAgICAgICAgICB2ZXJzaW9uID0gdmVyc2lvbiA/IHZlcnNpb25bMF0gOiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IEFkb2JlIEFJUi5cbiAgICAgIGVsc2UgaWYgKGdldENsYXNzT2YoKGRhdGEgPSBjb250ZXh0LnJ1bnRpbWUpKSA9PSBhaXJSdW50aW1lQ2xhc3MpIHtcbiAgICAgICAgbmFtZSA9ICdBZG9iZSBBSVInO1xuICAgICAgICBvcyA9IGRhdGEuZmxhc2guc3lzdGVtLkNhcGFiaWxpdGllcy5vcztcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBQaGFudG9tSlMuXG4gICAgICBlbHNlIGlmIChnZXRDbGFzc09mKChkYXRhID0gY29udGV4dC5waGFudG9tKSkgPT0gcGhhbnRvbUNsYXNzKSB7XG4gICAgICAgIG5hbWUgPSAnUGhhbnRvbUpTJztcbiAgICAgICAgdmVyc2lvbiA9IChkYXRhID0gZGF0YS52ZXJzaW9uIHx8IG51bGwpICYmIChkYXRhLm1ham9yICsgJy4nICsgZGF0YS5taW5vciArICcuJyArIGRhdGEucGF0Y2gpO1xuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IElFIGNvbXBhdGliaWxpdHkgbW9kZXMuXG4gICAgICBlbHNlIGlmICh0eXBlb2YgZG9jLmRvY3VtZW50TW9kZSA9PSAnbnVtYmVyJyAmJiAoZGF0YSA9IC9cXGJUcmlkZW50XFwvKFxcZCspL2kuZXhlYyh1YSkpKSB7XG4gICAgICAgIC8vIFdlJ3JlIGluIGNvbXBhdGliaWxpdHkgbW9kZSB3aGVuIHRoZSBUcmlkZW50IHZlcnNpb24gKyA0IGRvZXNuJ3RcbiAgICAgICAgLy8gZXF1YWwgdGhlIGRvY3VtZW50IG1vZGUuXG4gICAgICAgIHZlcnNpb24gPSBbdmVyc2lvbiwgZG9jLmRvY3VtZW50TW9kZV07XG4gICAgICAgIGlmICgoZGF0YSA9ICtkYXRhWzFdICsgNCkgIT0gdmVyc2lvblsxXSkge1xuICAgICAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ0lFICcgKyB2ZXJzaW9uWzFdICsgJyBtb2RlJyk7XG4gICAgICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gPSAnJyk7XG4gICAgICAgICAgdmVyc2lvblsxXSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmVyc2lvbiA9IG5hbWUgPT0gJ0lFJyA/IFN0cmluZyh2ZXJzaW9uWzFdLnRvRml4ZWQoMSkpIDogdmVyc2lvblswXTtcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCBJRSAxMSBtYXNraW5nIGFzIG90aGVyIGJyb3dzZXJzLlxuICAgICAgZWxzZSBpZiAodHlwZW9mIGRvYy5kb2N1bWVudE1vZGUgPT0gJ251bWJlcicgJiYgL14oPzpDaHJvbWV8RmlyZWZveClcXGIvLnRlc3QobmFtZSkpIHtcbiAgICAgICAgZGVzY3JpcHRpb24ucHVzaCgnbWFza2luZyBhcyAnICsgbmFtZSArICcgJyArIHZlcnNpb24pO1xuICAgICAgICBuYW1lID0gJ0lFJztcbiAgICAgICAgdmVyc2lvbiA9ICcxMS4wJztcbiAgICAgICAgbGF5b3V0ID0gWydUcmlkZW50J107XG4gICAgICAgIG9zID0gJ1dpbmRvd3MnO1xuICAgICAgfVxuICAgICAgb3MgPSBvcyAmJiBmb3JtYXQob3MpO1xuICAgIH1cbiAgICAvLyBEZXRlY3QgcHJlcmVsZWFzZSBwaGFzZXMuXG4gICAgaWYgKHZlcnNpb24gJiYgKGRhdGEgPVxuICAgICAgICAgIC8oPzpbYWJdfGRwfHByZXxbYWJdXFxkK3ByZSkoPzpcXGQrXFwrPyk/JC9pLmV4ZWModmVyc2lvbikgfHxcbiAgICAgICAgICAvKD86YWxwaGF8YmV0YSkoPzogP1xcZCk/L2kuZXhlYyh1YSArICc7JyArICh1c2VGZWF0dXJlcyAmJiBuYXYuYXBwTWlub3JWZXJzaW9uKSkgfHxcbiAgICAgICAgICAvXFxiTWluZWZpZWxkXFxiL2kudGVzdCh1YSkgJiYgJ2EnXG4gICAgICAgICkpIHtcbiAgICAgIHByZXJlbGVhc2UgPSAvYi9pLnRlc3QoZGF0YSkgPyAnYmV0YScgOiAnYWxwaGEnO1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24ucmVwbGFjZShSZWdFeHAoZGF0YSArICdcXFxcKz8kJyksICcnKSArXG4gICAgICAgIChwcmVyZWxlYXNlID09ICdiZXRhJyA/IGJldGEgOiBhbHBoYSkgKyAoL1xcZCtcXCs/Ly5leGVjKGRhdGEpIHx8ICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IEZpcmVmb3ggTW9iaWxlLlxuICAgIGlmIChuYW1lID09ICdGZW5uZWMnIHx8IG5hbWUgPT0gJ0ZpcmVmb3gnICYmIC9cXGIoPzpBbmRyb2lkfEZpcmVmb3ggT1MpXFxiLy50ZXN0KG9zKSkge1xuICAgICAgbmFtZSA9ICdGaXJlZm94IE1vYmlsZSc7XG4gICAgfVxuICAgIC8vIE9ic2N1cmUgTWF4dGhvbidzIHVucmVsaWFibGUgdmVyc2lvbi5cbiAgICBlbHNlIGlmIChuYW1lID09ICdNYXh0aG9uJyAmJiB2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gdmVyc2lvbi5yZXBsYWNlKC9cXC5bXFxkLl0rLywgJy54Jyk7XG4gICAgfVxuICAgIC8vIERldGVjdCBYYm94IDM2MCBhbmQgWGJveCBPbmUuXG4gICAgZWxzZSBpZiAoL1xcYlhib3hcXGIvaS50ZXN0KHByb2R1Y3QpKSB7XG4gICAgICBpZiAocHJvZHVjdCA9PSAnWGJveCAzNjAnKSB7XG4gICAgICAgIG9zID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9kdWN0ID09ICdYYm94IDM2MCcgJiYgL1xcYklFTW9iaWxlXFxiLy50ZXN0KHVhKSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdtb2JpbGUgbW9kZScpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBZGQgbW9iaWxlIHBvc3RmaXguXG4gICAgZWxzZSBpZiAoKC9eKD86Q2hyb21lfElFfE9wZXJhKSQvLnRlc3QobmFtZSkgfHwgbmFtZSAmJiAhcHJvZHVjdCAmJiAhL0Jyb3dzZXJ8TW9iaS8udGVzdChuYW1lKSkgJiZcbiAgICAgICAgKG9zID09ICdXaW5kb3dzIENFJyB8fCAvTW9iaS9pLnRlc3QodWEpKSkge1xuICAgICAgbmFtZSArPSAnIE1vYmlsZSc7XG4gICAgfVxuICAgIC8vIERldGVjdCBJRSBwbGF0Zm9ybSBwcmV2aWV3LlxuICAgIGVsc2UgaWYgKG5hbWUgPT0gJ0lFJyAmJiB1c2VGZWF0dXJlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGNvbnRleHQuZXh0ZXJuYWwgPT09IG51bGwpIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdwbGF0Zm9ybSBwcmV2aWV3Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdlbWJlZGRlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBEZXRlY3QgQmxhY2tCZXJyeSBPUyB2ZXJzaW9uLlxuICAgIC8vIGh0dHA6Ly9kb2NzLmJsYWNrYmVycnkuY29tL2VuL2RldmVsb3BlcnMvZGVsaXZlcmFibGVzLzE4MTY5L0hUVFBfaGVhZGVyc19zZW50X2J5X0JCX0Jyb3dzZXJfMTIzNDkxMV8xMS5qc3BcbiAgICBlbHNlIGlmICgoL1xcYkJsYWNrQmVycnlcXGIvLnRlc3QocHJvZHVjdCkgfHwgL1xcYkJCMTBcXGIvLnRlc3QodWEpKSAmJiAoZGF0YSA9XG4gICAgICAgICAgKFJlZ0V4cChwcm9kdWN0LnJlcGxhY2UoLyArL2csICcgKicpICsgJy8oWy5cXFxcZF0rKScsICdpJykuZXhlYyh1YSkgfHwgMClbMV0gfHxcbiAgICAgICAgICB2ZXJzaW9uXG4gICAgICAgICkpIHtcbiAgICAgIGRhdGEgPSBbZGF0YSwgL0JCMTAvLnRlc3QodWEpXTtcbiAgICAgIG9zID0gKGRhdGFbMV0gPyAocHJvZHVjdCA9IG51bGwsIG1hbnVmYWN0dXJlciA9ICdCbGFja0JlcnJ5JykgOiAnRGV2aWNlIFNvZnR3YXJlJykgKyAnICcgKyBkYXRhWzBdO1xuICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBpZGVudGlmeWluZy9tYXNraW5nIGl0c2VsZiBhcyBhbm90aGVyIGJyb3dzZXIuXG4gICAgLy8gaHR0cDovL3d3dy5vcGVyYS5jb20vc3VwcG9ydC9rYi92aWV3Lzg0My9cbiAgICBlbHNlIGlmICh0aGlzICE9IGZvck93biAmJiBwcm9kdWN0ICE9ICdXaWknICYmIChcbiAgICAgICAgICAodXNlRmVhdHVyZXMgJiYgb3BlcmEpIHx8XG4gICAgICAgICAgKC9PcGVyYS8udGVzdChuYW1lKSAmJiAvXFxiKD86TVNJRXxGaXJlZm94KVxcYi9pLnRlc3QodWEpKSB8fFxuICAgICAgICAgIChuYW1lID09ICdGaXJlZm94JyAmJiAvXFxiT1MgWCAoPzpcXGQrXFwuKXsyLH0vLnRlc3Qob3MpKSB8fFxuICAgICAgICAgIChuYW1lID09ICdJRScgJiYgKFxuICAgICAgICAgICAgKG9zICYmICEvXldpbi8udGVzdChvcykgJiYgdmVyc2lvbiA+IDUuNSkgfHxcbiAgICAgICAgICAgIC9cXGJXaW5kb3dzIFhQXFxiLy50ZXN0KG9zKSAmJiB2ZXJzaW9uID4gOCB8fFxuICAgICAgICAgICAgdmVyc2lvbiA9PSA4ICYmICEvXFxiVHJpZGVudFxcYi8udGVzdCh1YSlcbiAgICAgICAgICApKVxuICAgICAgICApICYmICFyZU9wZXJhLnRlc3QoKGRhdGEgPSBwYXJzZS5jYWxsKGZvck93biwgdWEucmVwbGFjZShyZU9wZXJhLCAnJykgKyAnOycpKSkgJiYgZGF0YS5uYW1lKSB7XG4gICAgICAvLyBXaGVuIFwiaWRlbnRpZnlpbmdcIiwgdGhlIFVBIGNvbnRhaW5zIGJvdGggT3BlcmEgYW5kIHRoZSBvdGhlciBicm93c2VyJ3MgbmFtZS5cbiAgICAgIGRhdGEgPSAnaW5nIGFzICcgKyBkYXRhLm5hbWUgKyAoKGRhdGEgPSBkYXRhLnZlcnNpb24pID8gJyAnICsgZGF0YSA6ICcnKTtcbiAgICAgIGlmIChyZU9wZXJhLnRlc3QobmFtZSkpIHtcbiAgICAgICAgaWYgKC9cXGJJRVxcYi8udGVzdChkYXRhKSAmJiBvcyA9PSAnTWFjIE9TJykge1xuICAgICAgICAgIG9zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gJ2lkZW50aWZ5JyArIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBXaGVuIFwibWFza2luZ1wiLCB0aGUgVUEgY29udGFpbnMgb25seSB0aGUgb3RoZXIgYnJvd3NlcidzIG5hbWUuXG4gICAgICBlbHNlIHtcbiAgICAgICAgZGF0YSA9ICdtYXNrJyArIGRhdGE7XG4gICAgICAgIGlmIChvcGVyYUNsYXNzKSB7XG4gICAgICAgICAgbmFtZSA9IGZvcm1hdChvcGVyYUNsYXNzLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMSAkMicpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0gJ09wZXJhJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoL1xcYklFXFxiLy50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgb3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXNlRmVhdHVyZXMpIHtcbiAgICAgICAgICB2ZXJzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGF5b3V0ID0gWydQcmVzdG8nXTtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIC8vIERldGVjdCBXZWJLaXQgTmlnaHRseSBhbmQgYXBwcm94aW1hdGUgQ2hyb21lL1NhZmFyaSB2ZXJzaW9ucy5cbiAgICBpZiAoKGRhdGEgPSAoL1xcYkFwcGxlV2ViS2l0XFwvKFtcXGQuXStcXCs/KS9pLmV4ZWModWEpIHx8IDApWzFdKSkge1xuICAgICAgLy8gQ29ycmVjdCBidWlsZCBudW1iZXIgZm9yIG51bWVyaWMgY29tcGFyaXNvbi5cbiAgICAgIC8vIChlLmcuIFwiNTMyLjVcIiBiZWNvbWVzIFwiNTMyLjA1XCIpXG4gICAgICBkYXRhID0gW3BhcnNlRmxvYXQoZGF0YS5yZXBsYWNlKC9cXC4oXFxkKSQvLCAnLjAkMScpKSwgZGF0YV07XG4gICAgICAvLyBOaWdodGx5IGJ1aWxkcyBhcmUgcG9zdGZpeGVkIHdpdGggYSBcIitcIi5cbiAgICAgIGlmIChuYW1lID09ICdTYWZhcmknICYmIGRhdGFbMV0uc2xpY2UoLTEpID09ICcrJykge1xuICAgICAgICBuYW1lID0gJ1dlYktpdCBOaWdodGx5JztcbiAgICAgICAgcHJlcmVsZWFzZSA9ICdhbHBoYSc7XG4gICAgICAgIHZlcnNpb24gPSBkYXRhWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIGluY29ycmVjdCBicm93c2VyIHZlcnNpb25zLlxuICAgICAgZWxzZSBpZiAodmVyc2lvbiA9PSBkYXRhWzFdIHx8XG4gICAgICAgICAgdmVyc2lvbiA9PSAoZGF0YVsyXSA9ICgvXFxiU2FmYXJpXFwvKFtcXGQuXStcXCs/KS9pLmV4ZWModWEpIHx8IDApWzFdKSkge1xuICAgICAgICB2ZXJzaW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSB0aGUgZnVsbCBDaHJvbWUgdmVyc2lvbiB3aGVuIGF2YWlsYWJsZS5cbiAgICAgIGRhdGFbMV0gPSAoL1xcYkNocm9tZVxcLyhbXFxkLl0rKS9pLmV4ZWModWEpIHx8IDApWzFdO1xuICAgICAgLy8gRGV0ZWN0IEJsaW5rIGxheW91dCBlbmdpbmUuXG4gICAgICBpZiAoZGF0YVswXSA9PSA1MzcuMzYgJiYgZGF0YVsyXSA9PSA1MzcuMzYgJiYgcGFyc2VGbG9hdChkYXRhWzFdKSA+PSAyOCAmJiBsYXlvdXQgPT0gJ1dlYktpdCcpIHtcbiAgICAgICAgbGF5b3V0ID0gWydCbGluayddO1xuICAgICAgfVxuICAgICAgLy8gRGV0ZWN0IEphdmFTY3JpcHRDb3JlLlxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NzY4NDc0L2hvdy1jYW4taS1kZXRlY3Qtd2hpY2gtamF2YXNjcmlwdC1lbmdpbmUtdjgtb3ItanNjLWlzLXVzZWQtYXQtcnVudGltZS1pbi1hbmRyb2lcbiAgICAgIGlmICghdXNlRmVhdHVyZXMgfHwgKCFsaWtlQ2hyb21lICYmICFkYXRhWzFdKSkge1xuICAgICAgICBsYXlvdXQgJiYgKGxheW91dFsxXSA9ICdsaWtlIFNhZmFyaScpO1xuICAgICAgICBkYXRhID0gKGRhdGEgPSBkYXRhWzBdLCBkYXRhIDwgNDAwID8gMSA6IGRhdGEgPCA1MDAgPyAyIDogZGF0YSA8IDUyNiA/IDMgOiBkYXRhIDwgNTMzID8gNCA6IGRhdGEgPCA1MzQgPyAnNCsnIDogZGF0YSA8IDUzNSA/IDUgOiBkYXRhIDwgNTM3ID8gNiA6IGRhdGEgPCA1MzggPyA3IDogZGF0YSA8IDYwMSA/IDggOiAnOCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gPSAnbGlrZSBDaHJvbWUnKTtcbiAgICAgICAgZGF0YSA9IGRhdGFbMV0gfHwgKGRhdGEgPSBkYXRhWzBdLCBkYXRhIDwgNTMwID8gMSA6IGRhdGEgPCA1MzIgPyAyIDogZGF0YSA8IDUzMi4wNSA/IDMgOiBkYXRhIDwgNTMzID8gNCA6IGRhdGEgPCA1MzQuMDMgPyA1IDogZGF0YSA8IDUzNC4wNyA/IDYgOiBkYXRhIDwgNTM0LjEwID8gNyA6IGRhdGEgPCA1MzQuMTMgPyA4IDogZGF0YSA8IDUzNC4xNiA/IDkgOiBkYXRhIDwgNTM0LjI0ID8gMTAgOiBkYXRhIDwgNTM0LjMwID8gMTEgOiBkYXRhIDwgNTM1LjAxID8gMTIgOiBkYXRhIDwgNTM1LjAyID8gJzEzKycgOiBkYXRhIDwgNTM1LjA3ID8gMTUgOiBkYXRhIDwgNTM1LjExID8gMTYgOiBkYXRhIDwgNTM1LjE5ID8gMTcgOiBkYXRhIDwgNTM2LjA1ID8gMTggOiBkYXRhIDwgNTM2LjEwID8gMTkgOiBkYXRhIDwgNTM3LjAxID8gMjAgOiBkYXRhIDwgNTM3LjExID8gJzIxKycgOiBkYXRhIDwgNTM3LjEzID8gMjMgOiBkYXRhIDwgNTM3LjE4ID8gMjQgOiBkYXRhIDwgNTM3LjI0ID8gMjUgOiBkYXRhIDwgNTM3LjM2ID8gMjYgOiBsYXlvdXQgIT0gJ0JsaW5rJyA/ICcyNycgOiAnMjgnKTtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCB0aGUgcG9zdGZpeCBvZiBcIi54XCIgb3IgXCIrXCIgZm9yIGFwcHJveGltYXRlIHZlcnNpb25zLlxuICAgICAgbGF5b3V0ICYmIChsYXlvdXRbMV0gKz0gJyAnICsgKGRhdGEgKz0gdHlwZW9mIGRhdGEgPT0gJ251bWJlcicgPyAnLngnIDogL1suK10vLnRlc3QoZGF0YSkgPyAnJyA6ICcrJykpO1xuICAgICAgLy8gT2JzY3VyZSB2ZXJzaW9uIGZvciBzb21lIFNhZmFyaSAxLTIgcmVsZWFzZXMuXG4gICAgICBpZiAobmFtZSA9PSAnU2FmYXJpJyAmJiAoIXZlcnNpb24gfHwgcGFyc2VJbnQodmVyc2lvbikgPiA0NSkpIHtcbiAgICAgICAgdmVyc2lvbiA9IGRhdGE7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIERldGVjdCBPcGVyYSBkZXNrdG9wIG1vZGVzLlxuICAgIGlmIChuYW1lID09ICdPcGVyYScgJiYgIChkYXRhID0gL1xcYnpib3Z8enZhdiQvLmV4ZWMob3MpKSkge1xuICAgICAgbmFtZSArPSAnICc7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIGlmIChkYXRhID09ICd6dmF2Jykge1xuICAgICAgICBuYW1lICs9ICdNaW5pJztcbiAgICAgICAgdmVyc2lvbiA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYW1lICs9ICdNb2JpbGUnO1xuICAgICAgfVxuICAgICAgb3MgPSBvcy5yZXBsYWNlKFJlZ0V4cCgnIConICsgZGF0YSArICckJyksICcnKTtcbiAgICB9XG4gICAgLy8gRGV0ZWN0IENocm9tZSBkZXNrdG9wIG1vZGUuXG4gICAgZWxzZSBpZiAobmFtZSA9PSAnU2FmYXJpJyAmJiAvXFxiQ2hyb21lXFxiLy5leGVjKGxheW91dCAmJiBsYXlvdXRbMV0pKSB7XG4gICAgICBkZXNjcmlwdGlvbi51bnNoaWZ0KCdkZXNrdG9wIG1vZGUnKTtcbiAgICAgIG5hbWUgPSAnQ2hyb21lIE1vYmlsZSc7XG4gICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAgICAgaWYgKC9cXGJPUyBYXFxiLy50ZXN0KG9zKSkge1xuICAgICAgICBtYW51ZmFjdHVyZXIgPSAnQXBwbGUnO1xuICAgICAgICBvcyA9ICdpT1MgNC4zKyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN0cmlwIGluY29ycmVjdCBPUyB2ZXJzaW9ucy5cbiAgICBpZiAodmVyc2lvbiAmJiB2ZXJzaW9uLmluZGV4T2YoKGRhdGEgPSAvW1xcZC5dKyQvLmV4ZWMob3MpKSkgPT0gMCAmJlxuICAgICAgICB1YS5pbmRleE9mKCcvJyArIGRhdGEgKyAnLScpID4gLTEpIHtcbiAgICAgIG9zID0gdHJpbShvcy5yZXBsYWNlKGRhdGEsICcnKSk7XG4gICAgfVxuICAgIC8vIEFkZCBsYXlvdXQgZW5naW5lLlxuICAgIGlmIChsYXlvdXQgJiYgIS9cXGIoPzpBdmFudHxOb29rKVxcYi8udGVzdChuYW1lKSAmJiAoXG4gICAgICAgIC9Ccm93c2VyfEx1bmFzY2FwZXxNYXh0aG9uLy50ZXN0KG5hbWUpIHx8XG4gICAgICAgIG5hbWUgIT0gJ1NhZmFyaScgJiYgL15pT1MvLnRlc3Qob3MpICYmIC9cXGJTYWZhcmlcXGIvLnRlc3QobGF5b3V0WzFdKSB8fFxuICAgICAgICAvXig/OkFkb2JlfEFyb3JhfEJyZWFjaHxNaWRvcml8T3BlcmF8UGhhbnRvbXxSZWtvbnF8Um9ja3xTYW1zdW5nIEludGVybmV0fFNsZWlwbmlyfFdlYikvLnRlc3QobmFtZSkgJiYgbGF5b3V0WzFdKSkge1xuICAgICAgLy8gRG9uJ3QgYWRkIGxheW91dCBkZXRhaWxzIHRvIGRlc2NyaXB0aW9uIGlmIHRoZXkgYXJlIGZhbHNleS5cbiAgICAgIChkYXRhID0gbGF5b3V0W2xheW91dC5sZW5ndGggLSAxXSkgJiYgZGVzY3JpcHRpb24ucHVzaChkYXRhKTtcbiAgICB9XG4gICAgLy8gQ29tYmluZSBjb250ZXh0dWFsIGluZm9ybWF0aW9uLlxuICAgIGlmIChkZXNjcmlwdGlvbi5sZW5ndGgpIHtcbiAgICAgIGRlc2NyaXB0aW9uID0gWycoJyArIGRlc2NyaXB0aW9uLmpvaW4oJzsgJykgKyAnKSddO1xuICAgIH1cbiAgICAvLyBBcHBlbmQgbWFudWZhY3R1cmVyIHRvIGRlc2NyaXB0aW9uLlxuICAgIGlmIChtYW51ZmFjdHVyZXIgJiYgcHJvZHVjdCAmJiBwcm9kdWN0LmluZGV4T2YobWFudWZhY3R1cmVyKSA8IDApIHtcbiAgICAgIGRlc2NyaXB0aW9uLnB1c2goJ29uICcgKyBtYW51ZmFjdHVyZXIpO1xuICAgIH1cbiAgICAvLyBBcHBlbmQgcHJvZHVjdCB0byBkZXNjcmlwdGlvbi5cbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgZGVzY3JpcHRpb24ucHVzaCgoL15vbiAvLnRlc3QoZGVzY3JpcHRpb25bZGVzY3JpcHRpb24ubGVuZ3RoIC0gMV0pID8gJycgOiAnb24gJykgKyBwcm9kdWN0KTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdGhlIE9TIGludG8gYW4gb2JqZWN0LlxuICAgIGlmIChvcykge1xuICAgICAgZGF0YSA9IC8gKFtcXGQuK10rKSQvLmV4ZWMob3MpO1xuICAgICAgaXNTcGVjaWFsQ2FzZWRPUyA9IGRhdGEgJiYgb3MuY2hhckF0KG9zLmxlbmd0aCAtIGRhdGFbMF0ubGVuZ3RoIC0gMSkgPT0gJy8nO1xuICAgICAgb3MgPSB7XG4gICAgICAgICdhcmNoaXRlY3R1cmUnOiAzMixcbiAgICAgICAgJ2ZhbWlseSc6IChkYXRhICYmICFpc1NwZWNpYWxDYXNlZE9TKSA/IG9zLnJlcGxhY2UoZGF0YVswXSwgJycpIDogb3MsXG4gICAgICAgICd2ZXJzaW9uJzogZGF0YSA/IGRhdGFbMV0gOiBudWxsLFxuICAgICAgICAndG9TdHJpbmcnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRoaXMudmVyc2lvbjtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYW1pbHkgKyAoKHZlcnNpb24gJiYgIWlzU3BlY2lhbENhc2VkT1MpID8gJyAnICsgdmVyc2lvbiA6ICcnKSArICh0aGlzLmFyY2hpdGVjdHVyZSA9PSA2NCA/ICcgNjQtYml0JyA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gQWRkIGJyb3dzZXIvT1MgYXJjaGl0ZWN0dXJlLlxuICAgIGlmICgoZGF0YSA9IC9cXGIoPzpBTUR8SUF8V2lufFdPV3x4ODZffHgpNjRcXGIvaS5leGVjKGFyY2gpKSAmJiAhL1xcYmk2ODZcXGIvaS50ZXN0KGFyY2gpKSB7XG4gICAgICBpZiAob3MpIHtcbiAgICAgICAgb3MuYXJjaGl0ZWN0dXJlID0gNjQ7XG4gICAgICAgIG9zLmZhbWlseSA9IG9zLmZhbWlseS5yZXBsYWNlKFJlZ0V4cCgnIConICsgZGF0YSksICcnKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgICBuYW1lICYmICgvXFxiV09XNjRcXGIvaS50ZXN0KHVhKSB8fFxuICAgICAgICAgICh1c2VGZWF0dXJlcyAmJiAvXFx3KD86ODZ8MzIpJC8udGVzdChuYXYuY3B1Q2xhc3MgfHwgbmF2LnBsYXRmb3JtKSAmJiAhL1xcYldpbjY0OyB4NjRcXGIvaS50ZXN0KHVhKSkpXG4gICAgICApIHtcbiAgICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCgnMzItYml0Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENocm9tZSAzOSBhbmQgYWJvdmUgb24gT1MgWCBpcyBhbHdheXMgNjQtYml0LlxuICAgIGVsc2UgaWYgKFxuICAgICAgICBvcyAmJiAvXk9TIFgvLnRlc3Qob3MuZmFtaWx5KSAmJlxuICAgICAgICBuYW1lID09ICdDaHJvbWUnICYmIHBhcnNlRmxvYXQodmVyc2lvbikgPj0gMzlcbiAgICApIHtcbiAgICAgIG9zLmFyY2hpdGVjdHVyZSA9IDY0O1xuICAgIH1cblxuICAgIHVhIHx8ICh1YSA9IG51bGwpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBsYXRmb3JtIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYXRmb3JtXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgdmFyIHBsYXRmb3JtID0ge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGxhdGZvcm0gZGVzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLmRlc2NyaXB0aW9uID0gdWE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYnJvd3NlcidzIGxheW91dCBlbmdpbmUuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gbGF5b3V0IGVuZ2luZXMgaW5jbHVkZTpcbiAgICAgKiBcIkJsaW5rXCIsIFwiRWRnZUhUTUxcIiwgXCJHZWNrb1wiLCBcIlRyaWRlbnRcIiBhbmQgXCJXZWJLaXRcIlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5sYXlvdXQgPSBsYXlvdXQgJiYgbGF5b3V0WzBdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb2R1Y3QncyBtYW51ZmFjdHVyZXIuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBtYW51ZmFjdHVyZXJzIGluY2x1ZGU6XG4gICAgICogXCJBcHBsZVwiLCBcIkFyY2hvc1wiLCBcIkFtYXpvblwiLCBcIkFzdXNcIiwgXCJCYXJuZXMgJiBOb2JsZVwiLCBcIkJsYWNrQmVycnlcIixcbiAgICAgKiBcIkdvb2dsZVwiLCBcIkhQXCIsIFwiSFRDXCIsIFwiTEdcIiwgXCJNaWNyb3NvZnRcIiwgXCJNb3Rvcm9sYVwiLCBcIk5pbnRlbmRvXCIsXG4gICAgICogXCJOb2tpYVwiLCBcIlNhbXN1bmdcIiBhbmQgXCJTb255XCJcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybVxuICAgICAqIEB0eXBlIHN0cmluZ3xudWxsXG4gICAgICovXG4gICAgcGxhdGZvcm0ubWFudWZhY3R1cmVyID0gbWFudWZhY3R1cmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGJyb3dzZXIvZW52aXJvbm1lbnQuXG4gICAgICpcbiAgICAgKiBUaGUgbGlzdCBvZiBjb21tb24gYnJvd3NlciBuYW1lcyBpbmNsdWRlOlxuICAgICAqIFwiQ2hyb21lXCIsIFwiRWxlY3Ryb25cIiwgXCJGaXJlZm94XCIsIFwiRmlyZWZveCBmb3IgaU9TXCIsIFwiSUVcIixcbiAgICAgKiBcIk1pY3Jvc29mdCBFZGdlXCIsIFwiUGhhbnRvbUpTXCIsIFwiU2FmYXJpXCIsIFwiU2VhTW9ua2V5XCIsIFwiU2lsa1wiLFxuICAgICAqIFwiT3BlcmEgTWluaVwiIGFuZCBcIk9wZXJhXCJcbiAgICAgKlxuICAgICAqIE1vYmlsZSB2ZXJzaW9ucyBvZiBzb21lIGJyb3dzZXJzIGhhdmUgXCJNb2JpbGVcIiBhcHBlbmRlZCB0byB0aGVpciBuYW1lOlxuICAgICAqIGVnLiBcIkNocm9tZSBNb2JpbGVcIiwgXCJGaXJlZm94IE1vYmlsZVwiLCBcIklFIE1vYmlsZVwiIGFuZCBcIk9wZXJhIE1vYmlsZVwiXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLm5hbWUgPSBuYW1lO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFscGhhL2JldGEgcmVsZWFzZSBpbmRpY2F0b3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLnByZXJlbGVhc2UgPSBwcmVyZWxlYXNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHByb2R1Y3QgaG9zdGluZyB0aGUgYnJvd3Nlci5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGNvbW1vbiBwcm9kdWN0cyBpbmNsdWRlOlxuICAgICAqXG4gICAgICogXCJCbGFja0JlcnJ5XCIsIFwiR2FsYXh5IFM0XCIsIFwiTHVtaWFcIiwgXCJpUGFkXCIsIFwiaVBvZFwiLCBcImlQaG9uZVwiLCBcIktpbmRsZVwiLFxuICAgICAqIFwiS2luZGxlIEZpcmVcIiwgXCJOZXh1c1wiLCBcIk5vb2tcIiwgXCJQbGF5Qm9va1wiLCBcIlRvdWNoUGFkXCIgYW5kIFwiVHJhbnNmb3JtZXJcIlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5wcm9kdWN0ID0gcHJvZHVjdDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBicm93c2VyJ3MgdXNlciBhZ2VudCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAqL1xuICAgIHBsYXRmb3JtLnVhID0gdWE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYnJvd3Nlci9lbnZpcm9ubWVudCB2ZXJzaW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIHBsYXRmb3JtXG4gICAgICogQHR5cGUgc3RyaW5nfG51bGxcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS52ZXJzaW9uID0gbmFtZSAmJiB2ZXJzaW9uO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgcGxhdGZvcm1cbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKi9cbiAgICBwbGF0Zm9ybS5vcyA9IG9zIHx8IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgQ1BVIGFyY2hpdGVjdHVyZSB0aGUgT1MgaXMgYnVpbHQgZm9yLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHR5cGUgbnVtYmVyfG51bGxcbiAgICAgICAqL1xuICAgICAgJ2FyY2hpdGVjdHVyZSc6IG51bGwsXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIGZhbWlseSBvZiB0aGUgT1MuXG4gICAgICAgKlxuICAgICAgICogQ29tbW9uIHZhbHVlcyBpbmNsdWRlOlxuICAgICAgICogXCJXaW5kb3dzXCIsIFwiV2luZG93cyBTZXJ2ZXIgMjAwOCBSMiAvIDdcIiwgXCJXaW5kb3dzIFNlcnZlciAyMDA4IC8gVmlzdGFcIixcbiAgICAgICAqIFwiV2luZG93cyBYUFwiLCBcIk9TIFhcIiwgXCJVYnVudHVcIiwgXCJEZWJpYW5cIiwgXCJGZWRvcmFcIiwgXCJSZWQgSGF0XCIsIFwiU3VTRVwiLFxuICAgICAgICogXCJBbmRyb2lkXCIsIFwiaU9TXCIgYW5kIFwiV2luZG93cyBQaG9uZVwiXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIHBsYXRmb3JtLm9zXG4gICAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAgICovXG4gICAgICAnZmFtaWx5JzogbnVsbCxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgT1MuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIHBsYXRmb3JtLm9zXG4gICAgICAgKiBAdHlwZSBzdHJpbmd8bnVsbFxuICAgICAgICovXG4gICAgICAndmVyc2lvbic6IG51bGwsXG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0aGUgT1Mgc3RyaW5nLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBwbGF0Zm9ybS5vc1xuICAgICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIE9TIHN0cmluZy5cbiAgICAgICAqL1xuICAgICAgJ3RvU3RyaW5nJzogZnVuY3Rpb24oKSB7IHJldHVybiAnbnVsbCc7IH1cbiAgICB9O1xuXG4gICAgcGxhdGZvcm0ucGFyc2UgPSBwYXJzZTtcbiAgICBwbGF0Zm9ybS50b1N0cmluZyA9IHRvU3RyaW5nUGxhdGZvcm07XG5cbiAgICBpZiAocGxhdGZvcm0udmVyc2lvbikge1xuICAgICAgZGVzY3JpcHRpb24udW5zaGlmdCh2ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKHBsYXRmb3JtLm5hbWUpIHtcbiAgICAgIGRlc2NyaXB0aW9uLnVuc2hpZnQobmFtZSk7XG4gICAgfVxuICAgIGlmIChvcyAmJiBuYW1lICYmICEob3MgPT0gU3RyaW5nKG9zKS5zcGxpdCgnICcpWzBdICYmIChvcyA9PSBuYW1lLnNwbGl0KCcgJylbMF0gfHwgcHJvZHVjdCkpKSB7XG4gICAgICBkZXNjcmlwdGlvbi5wdXNoKHByb2R1Y3QgPyAnKCcgKyBvcyArICcpJyA6ICdvbiAnICsgb3MpO1xuICAgIH1cbiAgICBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoKSB7XG4gICAgICBwbGF0Zm9ybS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IHBsYXRmb3JtLlxuICB2YXIgcGxhdGZvcm0gPSBwYXJzZSgpO1xuXG4gIC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIGNvbmRpdGlvbiBwYXR0ZXJucyBsaWtlIHRoZSBmb2xsb3dpbmc6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBwbGF0Zm9ybSBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIHBsYXRmb3JtIGlzXG4gICAgLy8gbG9hZGVkIGJ5IGEgc2NyaXB0IHRhZyBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EIGxvYWRlci5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9lcnJvcnMuaHRtbCNtaXNtYXRjaCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIHJvb3QucGxhdGZvcm0gPSBwbGF0Zm9ybTtcblxuICAgIC8vIERlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvIHBsYXRmb3JtIGNhbiBiZSBhbGlhc2VkIHRocm91Z2ggcGF0aCBtYXBwaW5nLlxuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwbGF0Zm9ybTtcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBhbiBgZXhwb3J0c2Agb2JqZWN0LlxuICBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZvck93bihwbGF0Zm9ybSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgZnJlZUV4cG9ydHNba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290LnBsYXRmb3JtID0gcGxhdGZvcm07XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2xvZ28tcGxheS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvbG9nby1uZWdhdGl2ZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWFnZXMvZ28tYmFjay10by1tYWluLXBhZ2UucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2xvZ28tcGxheS1pb19hbGxfbWluLWNvbG9yX3ZhcmlhdGlvbi12My5wbmdcIjsiLCJleHBvcnQgZnVuY3Rpb24gYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcihmdW46ICgpID0+IHZvaWQpIHtcbiAgICBsZXQgdGlja2luZyA9IGZhbHNlXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKGV2KSA9PiB7XG4gICAgICAgIGlmKCF0aWNraW5nKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmdW4oKVxuICAgICAgICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aWNraW5nID0gdHJ1ZVxuICAgIH0pXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZCkgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiAoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keSkgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbFRvcFxufSIsImV4cG9ydCBlbnVtIEhUTUxfU0VMRUNUT1JTIHtcbiAgICBDT0RFX0FSRUEgICAgICAgICAgICAgICA9IFwiLmNvZGUtYXJlYVwiLFxuICAgIENPTlRFTlQgICAgICAgICAgICAgICAgID0gXCIjZDJ2LWNvbnRlbnRcIixcbiAgICBDVVJSRU5UX1NFQ1RJT05fTkFNRSAgICA9IFwiI2N1cnJlbnQtc2VjdGlvbi1uYW1lXCIsXG4gICAgVE9QX0hFQURFUiAgICAgICAgICAgICAgPSBcIiNkMnYtaGVhZGVyXCIsXG4gICAgTkFWSUdBVElPTl9NRU5VICAgICAgICAgPSBcIiNzaXRlLW5hdmlnYXRpb25cIlxufSIsImltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuLi9IVE1MX1NFTEVDVE9SU1wiXG5pbXBvcnQge2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJ9IGZyb20gXCIuLi9hZGRTY3JvbGxFdmVudExpc3RlbmVyXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNldE5hdmlnYXRpb25NZW51KCkge1xuICAgIGdlbmVyYXRlTGlzdE9mQ2hhcHRlcigpLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIHVwZGF0ZUNoYXB0ZXJTdGF0dUluTmF2aWdhdGlvbk1lbnUodmFsdWUpXG5cbiAgICAgICAgYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVDaGFwdGVyU3RhdHVJbk5hdmlnYXRpb25NZW51KHZhbHVlKVxuICAgICAgICB9KVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoYXB0ZXJTdGF0dUluTmF2aWdhdGlvbk1lbnUobGlzdE9mVGl0bGVMZXZlbFR3bzogQ2hhcHRlcltdKSB7XG4gICAgbGV0IGxhc3RUaXRsZUlzTm90Rm91bmQgPSB0cnVlXG5cbiAgICBmb3IoY29uc3QgdGl0bGVMZXZlbFR3byBvZiBsaXN0T2ZUaXRsZUxldmVsVHdvKSB7XG4gICAgICAgIGlmKHRpdGxlTGV2ZWxUd28uaXNBY3RpdmUgJiYgbGFzdFRpdGxlSXNOb3RGb3VuZCkge1xuICAgICAgICAgICAgbGFzdFRpdGxlSXNOb3RGb3VuZCA9IGZhbHNlXG4gICAgICAgICAgICB0aXRsZUxldmVsVHdvLmNsYXNzbmFtZSA9IFwiYWN0aXZlXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlTGV2ZWxUd28uY2xhc3NuYW1lID0gXCJ1bmFjdGl2ZVwiXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGlzdE9mQ2hhcHRlcigpOiBQcm9taXNlPENoYXB0ZXJbXT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RUb1JldHVybiA9IFtdXG5cbiAgICAgICAgY29uc3QgVElUTEVfVFdPX0VMRU1FTlRTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHtIVE1MX1NFTEVDVE9SUy5DT05URU5UfSBoMmApIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+XG4gICAgICAgIGNvbnN0IE5BVklHQVRJT05fTUVOVV9FTEVNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtIVE1MX1NFTEVDVE9SUy5OQVZJR0FUSU9OX01FTlV9YCkgYXMgSFRNTEVsZW1lbnRcblxuICAgICAgICBmb3IoY29uc3QgbmF2aWdhdGlvblR3b0VsZW1lbnQgb2YgVElUTEVfVFdPX0VMRU1FTlRTKSB7XG4gICAgICAgICAgICBsaXN0VG9SZXR1cm4ucHVzaChuZXcgQ2hhcHRlcihuYXZpZ2F0aW9uVHdvRWxlbWVudCwgTkFWSUdBVElPTl9NRU5VX0VMRU1FTlQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShsaXN0VG9SZXR1cm4ucmV2ZXJzZSgpKVxuXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJjYW4ndCBnZXQgbGlzdCBvZiBsZXZlbCB0d28gaW4gbmF2aWdhdGlvbiBtZW51XCIpKVxuICAgIH0pXG59XG5cbmNsYXNzIENoYXB0ZXIge1xuICAgIHByaXZhdGUgX2VsZW1lbnQ6IEhUTUxFbGVtZW50XG5cbiAgICBwcml2YXRlIF9lbGVtZW50SW5NZW51OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZFxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudEluTWVudSA9IHRoaXMuZ2V0RWxlbWVudEluTWVudShuYXZpZ2F0aW9uTWVudUVsZW1lbnQpXG4gICAgfVxuXG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPD0gd2luZG93LmlubmVySGVpZ2h0IC8gMlxuICAgIH1cblxuICAgIHNldCBjbGFzc25hbWUoY2xhc3NuYW1lOiBcImFjdGl2ZVwifFwidW5hY3RpdmVcIikge1xuICAgICAgICBpZihjbGFzc25hbWUgPT09IFwiYWN0aXZlXCIpIHtcbiAgICAgICAgICAgIGlmKCEgdGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYodGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbGVtZW50SW5NZW51KG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgbGlzdE9mTGV2ZWxUd29Jbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke0hUTUxfU0VMRUNUT1JTLk5BVklHQVRJT05fTUVOVX0gPiBsaSA+IHVsID4gbGkgPiBhYCkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD5cblxuICAgICAgICBmb3IoY29uc3QgbGV2ZWxUd29FbGVtZW50IG9mIGxpc3RPZkxldmVsVHdvSW5NZW51KSB7XG4gICAgICAgICAgICBpZihsZXZlbFR3b0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgKyB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVsVHdvRWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgX2VsZW1lbnRJbk1lbnVDb250YWluc0FjdGl2ZUNsYXNzKCkge1xuICAgICAgICBpZih0aGlzLl9lbGVtZW50SW5NZW51ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50SW5NZW51LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0tvdGxpblBsYXlncm91bmR9IGZyb20gXCIuL0tvdGxpblBsYXlncm91bmRcIlxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuL0VkaXRvclwiXG5pbXBvcnQge2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJ9IGZyb20gXCIuLi9hZGRTY3JvbGxFdmVudExpc3RlbmVyXCJcbmltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuLi9IVE1MX1NFTEVDVE9SU1wiXG5cbmV4cG9ydCBjbGFzcyBFZGl0b3JNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihrb3RsaW5FZGl0b3JzOiBFZGl0b3JbXSkge1xuXG4gICAgICAgIHRoaXMuX2VkaXRvcnMgPSBrb3RsaW5FZGl0b3JzXG5cbiAgICAgICAgdGhpcy5fc2V0TGlzdGVuZXJGb3JFZGl0b3JzQXV0b0V4ZWN1dGlvbigpXG4gICAgfVxuXG4gICAgcHVibGljIHJ1blZpc2libGVFZGl0b3JzKCkge1xuICAgICAgICBmb3IoY29uc3QgZWRpdG9yIG9mIHRoaXMuX2VkaXRvcnMpIHtcbiAgICAgICAgICAgIGlmKGVkaXRvci5pc09uU2NyZWVuICYmIGVkaXRvci5oYXNOb3RCZWVuRXhlY3V0ZWQpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY3V0ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lZGl0b3JzOiBFZGl0b3JbXSA9IFtdXG5cbiAgICBwcml2YXRlIF9zZXRMaXN0ZW5lckZvckVkaXRvcnNBdXRvRXhlY3V0aW9uKCkge1xuICAgICAgICBhZGRTY3JvbGxFdmVudExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucnVuVmlzaWJsZUVkaXRvcnMoKVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIVE1MRWxlbWVudCh0YWdOYW1lOiBrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXAsIGNvbnRlbnQ/OiBzdHJpbmcgfCBIVE1MRWxlbWVudFtdLCBjbGFzc25hbWU/OiBzdHJpbmcpIHtcbiAgICBjb25zdCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKVxuXG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudFxuICAgIH0gZWxzZSBpZiAoY29udGVudCkge1xuICAgICAgICBmb3IoY29uc3QgaHRtbEVsZW1lbnQgb2YgY29udGVudCkge1xuICAgICAgICAgICAgbmV3RWxlbWVudC5hcHBlbmRDaGlsZChodG1sRWxlbWVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNsYXNzbmFtZSkgbmV3RWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc25hbWVcblxuICAgIHJldHVybiBuZXdFbGVtZW50XG59IiwiaW1wb3J0IHtLb3RsaW5QbGF5Z3JvdW5kfSBmcm9tIFwiLi9Lb3RsaW5QbGF5Z3JvdW5kXCJcbmltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuLi9IVE1MX1NFTEVDVE9SU1wiXG5pbXBvcnQge2NyZWF0ZUhUTUxFbGVtZW50fSBmcm9tIFwiLi4vdG9vbHNcIlxuaW1wb3J0IHtQbGF0Zm9ybU9zTmFtZX0gZnJvbSBcIi4uL2dldFVzZXJPc1wiXG5cbmRlY2xhcmUgZnVuY3Rpb24gS290bGluUGxheWdyb3VuZChzZWxlY3Rvcjogc3RyaW5nIHzCoEhUTUxFbGVtZW50LCBldmVudEZ1bmN0aW9ucz86IEtvdGxpblBsYXlncm91bmQuSUV2ZW50RnVuY3Rpb25zKTogUHJvbWlzZTxLb3RsaW5QbGF5Z3JvdW5kLklFZGl0b3JJbnN0YW5jZVtdPlxuXG5cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuXG4gICAgcHJpdmF0ZSBURVhUX1NIT1JUQ1VUID0ge1xuICAgICAgICBydW46IHtcbiAgICAgICAgICAgIG1hY09zOiBcIkNUUkwgKyBSOiBydW4gY29kZVwiLFxuICAgICAgICAgICAgd2luZG93czogXCJDVFJMICsgRjk6IHJ1biBjb2RlXCIsXG4gICAgICAgICAgICBsaW51eDogXCJDVFJMICsgRjk6IHJ1biBjb2RlXCIsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IFBMQVRGT1JNX09TX1VTRVJfTkFNRTogUGxhdGZvcm1Pc05hbWU7XG5cbiAgICBwcml2YXRlIE1PUkVfVEhBTl9PTkNFX0NPREVfQ0hBTkdFRF9DTEFTU05BTUUgPSBcIm1vcmUtdGhhbi1vbmNlLWNvZGUtY2hhbmdlZFwiXG4gICAgcHJpdmF0ZSBTSE9SVENVVF9JTkZPX0NMQVNTTkFNRSA9IFwic2hvcnRjdXQtaW5mbyBjb21waWxlci1pbmZvXCJcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzZWxlY3Rvcjogc3RyaW5nIHwgSFRNTEVsZW1lbnQsXG4gICAgICAgIHBsYXRmb3JtT3NOYW1lOiBQbGF0Zm9ybU9zTmFtZSxcbiAgICAgICAgb25DaGFuZ2U/OiAoY29kZTogc3RyaW5nKSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3JcbiAgICAgICAgdGhpcy5QTEFURk9STV9PU19VU0VSX05BTUUgPSBwbGF0Zm9ybU9zTmFtZVxuICAgICAgICB0aGlzLl9vbkNoYW5nZSA9IG9uQ2hhbmdlXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2VsZWN0b3I6IHN0cmluZyB8IEhUTUxFbGVtZW50XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9vbkNoYW5nZT86IChjb2RlOiBzdHJpbmcpID0+IHZvaWRcblxuICAgIHB1YmxpYyBpbml0KCk6IFByb21pc2U8RWRpdG9yPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIEtvdGxpblBsYXlncm91bmQodGhpcy5fc2VsZWN0b3IsIHRoaXMuX2V2ZW50RnVuY3Rpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UpIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rb3RsaW5FZGl0b3JDb250YWluZXIgPSB0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2Uubm9kZXNbMF1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2RlQXJlYSA9IHRoaXMuX2tvdGxpbkVkaXRvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNPREVfQVJFQSlcblxuICAgICAgICAgICAgICAgICAgICBpZihjb2RlQXJlYSAhPT0gbnVsbCAmJiBjb2RlQXJlYSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2RlQXJlYSA9IGNvZGVBcmVhXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVNaXJyb3JTdHlsZUVsZW1lbnQgPSBjb2RlQXJlYS5xdWVyeVNlbGVjdG9yKFwiLkNvZGVNaXJyb3JcIikgYXMgSFRNTERpdkVsZW1lbnRcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdG9yVGhlbWVDbGFzc25hbWUgPSBFZGl0b3IuZ2V0Q29va2llKFwidGhlbWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlZGl0b3JUaGVtZUNsYXNzbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVNaXJyb3JTdHlsZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChgY20tcy0ke2VkaXRvclRoZW1lQ2xhc3NuYW1lfWApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNvbHZlKCB0aGlzIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0Q29va2llKG5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnwgKScgKyBuYW1lICsgJz0oW147XSspJykpO1xuXG4gICAgICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzJdO1xuICAgICAgICBlbHNlIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfa290bGluRWRpdG9yQ29udGFpbmVyPzogSFRNTEVsZW1lbnRcbiAgICBnZXQga290bGluRWRpdG9yQ29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa290bGluRWRpdG9yQ29udGFpbmVyXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY29kZUFyZWE/OiBIVE1MRWxlbWVudFxuICAgIHB1YmxpYyBnZXQgY29kZUFyZWEoKSB7cmV0dXJuIHRoaXMuX2NvZGVBcmVhfVxuXG4gICAgcHVibGljIGdldCBib3R0b21fb2ZfY29kZUFyZWFfaXNfYWJvdmVfYm90dG9tX29mX3NjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZUFyZWEgPyB0aGlzLmNvZGVBcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA+PSAwIDogZmFsc2VcbiAgICB9XG4gICAgcHVibGljIGdldCBib3R0b21fb2ZfY29kZUFyZWFfaXNfYmVsb3dfdG9wX29mX3NjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZUFyZWEgPyB0aGlzLmNvZGVBcmVhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQgOiBmYWxzZVxuICAgIH1cblxuICAgIHByaXZhdGUgX2hhc0JlZW5FeGVjdXRlZCA9IGZhbHNlXG4gICAgcHVibGljIGdldCBoYXNOb3RCZWVuRXhlY3V0ZWQoKSB7IHJldHVybiAhdGhpcy5faGFzQmVlbkV4ZWN1dGVkfVxuXG4gICAgcHVibGljIGdldCBpc09uU2NyZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5fS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ib3R0b21fb2ZfY29kZUFyZWFfaXNfYWJvdmVfYm90dG9tX29mX3NjcmVlbiAmJiB0aGlzLmJvdHRvbV9vZl9jb2RlQXJlYV9pc19iZWxvd190b3Bfb2Zfc2NyZWVuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZXhlY3V0ZSgpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYoIHRoaXMuX0tvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0JlZW5FeGVjdXRlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLl9Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UuZXhlY3V0ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJjYW4ndCBleGVjdXRlIGtvdGxpbiBwbGF5Z3JvdW5kIGVkaXRvclwiKSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZXZlbnRGdW5jdGlvbnM6IEtvdGxpblBsYXlncm91bmQuSUV2ZW50RnVuY3Rpb25zID0ge1xuICAgICAgICBnZXRJbnN0YW5jZTogKGVkaXRvcjogS290bGluUGxheWdyb3VuZC5JRWRpdG9ySW5zdGFuY2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX0tvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZSA9IGVkaXRvclxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogKGNvZGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkQ291bnRlcisrXG5cbiAgICAgICAgICAgIGlmKHRoaXMuY2hhbmdlZENvdW50ZXIgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmtvdGxpbkVkaXRvckNvbnRhaW5lcikge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0SW5TaG9ydGN1dEhlbHBlckVsZW1lbnQ6IHN0cmluZ1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5QTEFURk9STV9PU19VU0VSX05BTUUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJPUyBYXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50ID0gdGhpcy5URVhUX1NIT1JUQ1VULnJ1bi5tYWNPc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV2luZG93c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRJblNob3J0Y3V0SGVscGVyRWxlbWVudCA9IHRoaXMuVEVYVF9TSE9SVENVVC5ydW4ud2luZG93c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTGludXhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0SW5TaG9ydGN1dEhlbHBlckVsZW1lbnQgPSB0aGlzLlRFWFRfU0hPUlRDVVQucnVuLmxpbnV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEluU2hvcnRjdXRIZWxwZXJFbGVtZW50ID0gXCJcIlxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5QTEFURk9STV9PU19VU0VSX05BTUUgIT09IFwiT3RoZXJcIikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtvdGxpbkVkaXRvckNvbnRhaW5lci5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlSFRNTEVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0SW5TaG9ydGN1dEhlbHBlckVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVIVE1MRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ1RSTCArIFNQQUNFOiBjb2RlIGNvbXBsZXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNIT1JUQ1VUX0lORk9fQ0xBU1NOQU1FXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rb3RsaW5FZGl0b3JDb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLk1PUkVfVEhBTl9PTkNFX0NPREVfQ0hBTkdFRF9DTEFTU05BTUUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLl9vbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKGNvZGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIHByaXZhdGUgX0tvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZT86IEtvdGxpblBsYXlncm91bmQuSUVkaXRvckluc3RhbmNlXG4gICAgZ2V0IEtvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZSgpIHtyZXR1cm4gdGhpcy5fS290bGluUGxheWdyb3VuZEVkaXRvckluc3RhbmNlfVxuXG4gICAgcHJpdmF0ZSBjaGFuZ2VkQ291bnRlciA9IDBcbn0iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcInBsYXRmb3JtXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJPcygpOiBQbGF0Zm9ybU9zTmFtZSB7XG4gICAgaWYocGxhdGZvcm0ub3MpIHtcbiAgICAgICAgc3dpdGNoIChwbGF0Zm9ybS5vcy5mYW1pbHkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJXaW5kb3dzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiV2luZG93c1wiXG4gICAgICAgICAgICBjYXNlIFwiT1MgWFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIk9TIFhcIlxuICAgICAgICAgICAgY2FzZSBcIlVidW50dVwiIHx8IFwiRGViaWFuXCIgfHwgXCJGZWRvcmFcIiB8fCBcIlJlZCBIYXRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJMaW51eFwiXG4gICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJPdGhlclwiXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJPdGhlclwiXG4gICAgfVxufVxuXG5leHBvcnQgdHlwZSBQbGF0Zm9ybU9zTmFtZSA9IFwiV2luZG93c1wiIHwgXCJPUyBYXCIgfCBcIkxpbnV4XCIgfCBcIk90aGVyXCJcblxuIiwiaW1wb3J0IHtzZXRNZW51UG9zaXRpb259IGZyb20gXCIuL25hdmlnYXRpb24vc2V0TWVudVBvc2l0aW9uXCJcbmltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuL0hUTUxfU0VMRUNUT1JTXCJcbmltcG9ydCB7c2V0Q3VycmVudFNlY3Rpb25OYW1lfSBmcm9tIFwiLi9uYXZpZ2F0aW9uL3NldEN1cnJlbnRTZWN0aW9uTmFtZVwiXG5pbXBvcnQge3NldE5hdmlnYXRpb25NZW51fSBmcm9tIFwiLi9uYXZpZ2F0aW9uL3NldE5hdmlnYXRpb25NZW51XCJcbmltcG9ydCB7c2V0RWRpdG9yc01hbmFnZXJ9IGZyb20gXCIuL2VkaXRvci9zZXRFZGl0b3JzTWFuYWdlclwiXG5pbXBvcnQge3VybFNjcmlwdEhpc3Rvcnl9IGZyb20gXCIuL3BsYXlncm91bmQvbWFpblwiXG5cbmRlY2xhcmUgY29uc3QgcGxheWdyb3VuZDogYm9vbGVhbiB8IHVuZGVmaW5lZFxuXG5pZihwbGF5Z3JvdW5kKSB7XG4gICAgdXJsU2NyaXB0SGlzdG9yeSgpXG59IGVsc2Uge1xuICAgIHNldEVkaXRvcnNNYW5hZ2VyKCkudGhlbigoZWRpdG9yTWFuYWdlcikgPT4ge1xuICAgICAgICBlZGl0b3JNYW5hZ2VyLnJ1blZpc2libGVFZGl0b3JzKClcbiAgICB9KVxuXG4gICAgc2V0TWVudVBvc2l0aW9uKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNPTlRFTlQpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLlRPUF9IRUFERVIpIGFzIEhUTUxFbGVtZW50LFxuICAgIClcblxuICAgIHNldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG5cbiAgICBzZXROYXZpZ2F0aW9uTWVudSgpXG59XG5cbiIsIi8vIGltcG9ydCBKU1ppcCBmcm9tIFwianN6aXBcIlxuLy9cbi8vIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpXG4vL1xuLy8gZnVuY3Rpb24gZGVjb2RlKHN0cmluZzogc3RyaW5nKSB7XG4vLyAgICAgdmFyIHQgPSBEYXRlLm5vdygpO1xuLy8gICAgIHZhciByZXMgPSBKU1ppcC51dGlscy51aW50OEFycmF5MlN0cmluZyhcbi8vICAgICAgICAgSlNaaXAuY29tcHJlc3Npb25zLkRFRkxBVEUudW5jb21wcmVzcyhKU1ppcC5iYXNlNjQuZGVjb2RlKHN0cmluZykpXG4vLyAgICAgKTtcbi8vICAgICBhbGVydChEYXRlLm5vdygpIC0gdCk7XG4vLyAgICAgcmV0dXJuIHJlcztcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiBlbmNvZGUoc3RyaW5nOiBzdHJpbmcpIHtcbi8vICAgICB2YXIgdCA9IERhdGUubm93KCk7XG4vLyAgICAgdmFyIHJlcyA9IEpTWmlwLmJhc2U2NC5lbmNvZGUoSlNaaXAudXRpbHMudWludDhBcnJheTJTdHJpbmcoXG4vLyAgICAgICAgIEpTWmlwLmNvbXByZXNzaW9ucy5ERUZMQVRFLmNvbXByZXNzKHN0cmluZykpKTtcbi8vICAgICBhbGVydChEYXRlLm5vdygpIC0gdCk7XG4vLyAgICAgcmV0dXJuIHJlcztcbi8vIH1cblxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuLi9lZGl0b3IvRWRpdG9yXCJcbmltcG9ydCB7Z2V0VXNlck9zfSBmcm9tIFwiLi4vZ2V0VXNlck9zXCJcblxuZGVjbGFyZSBjb25zdCBSYXdEZWZsYXRlOiB7XG4gICAgaW5mbGF0ZTogKHN0cmluZzogc3RyaW5nKSA9PiBzdHJpbmdcbiAgICBkZWZsYXRlOiAoc3RyaW5nOiBzdHJpbmcpID0+IHN0cmluZ1xufTtcblxuaW50ZXJmYWNlIElTY3JpcHREYXRhIHtcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgY29kZTogc3RyaW5nLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXJsU2NyaXB0SGlzdG9yeSgpIHtcbiAgICBsZXQgc2NyaXB0RGF0YTogSVNjcmlwdERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdkYXRhMnZpeiBwbGF5Z3JvdW5kJyxcbiAgICAgICAgY29kZTogJ2NvbnNvbGUubG9nKFwiaGVsbG9cIiknLFxuICAgIH07XG5cbiAgICBjb25zdCB1cmxEYXRhID0gZ2V0VXJsRGF0YSgpO1xuXG4gICAgY29uc3QgY29kZUVsZW1lbnRGb3JLb3RsaW5QbGF5Z3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmtvdGxpbi1jb2RlJyk7XG5cbiAgICBpZihjb2RlRWxlbWVudEZvcktvdGxpblBsYXlncm91bmQgJiYgY29kZUVsZW1lbnRGb3JLb3RsaW5QbGF5Z3JvdW5kIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcblxuICAgICAgICBpZih1cmxEYXRhLmhhc1NjcmlwdERhdGEpIHtcbiAgICAgICAgICAgIHNjcmlwdERhdGEgPSB1cmxEYXRhLnNjcmlwdERhdGE7XG4gICAgICAgICAgICBjb2RlRWxlbWVudEZvcktvdGxpblBsYXlncm91bmQudGV4dENvbnRlbnQgPSBzY3JpcHREYXRhLmNvZGVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9uQ29kZUNoYW5nZSA9IChjb2RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVVybEFuZFNjcmlwdERhdGEoY29kZSwgc2NyaXB0RGF0YSlcbiAgICAgICAgfTtcblxuICAgICAgICBuZXcgRWRpdG9yKGNvZGVFbGVtZW50Rm9yS290bGluUGxheWdyb3VuZCwgZ2V0VXNlck9zKCksIG9uQ29kZUNoYW5nZSkuaW5pdCgpLnRoZW4oZWRpdG9yID0+IHtcbiAgICAgICAgICAgIGVkaXRvci5leGVjdXRlKCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGlzdG9yeSBuYXZpZ2F0aW9uXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5Lb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yLktvdGxpblBsYXlncm91bmRFZGl0b3JJbnN0YW5jZS5jb2RlbWlycm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVVybEFuZFNjcmlwdERhdGEoY29kZTogc3RyaW5nLCBzY3JpcHREYXRhOiBJU2NyaXB0RGF0YSkge1xuICAgIHNjcmlwdERhdGEuY29kZSA9IGNvZGU7XG4gICAgdXBkYXRlSGFzaChzY3JpcHREYXRhKVxufVxuXG5mdW5jdGlvbiBnZXRVcmxEYXRhKCk6IHtoYXNTY3JpcHREYXRhOiBib29sZWFuLCBzY3JpcHREYXRhOiBJU2NyaXB0RGF0YX0ge1xuICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICBjb25zdCBtYXRjaCA9IGhhc2gubWF0Y2goLyNcXC9TXFwvKC4qKSQvKTtcblxuICAgIGNvbnN0IGRlZmF1bHRSZXR1cm4gPSB7XG4gICAgICAgIGhhc1NjcmlwdERhdGE6IGZhbHNlLFxuICAgICAgICBzY3JpcHREYXRhOiB7XG4gICAgICAgICAgICBjb2RlOiBcIlwiLFxuICAgICAgICAgICAgbmFtZTogXCJcIixcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZihtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICBjb25zdCBzY3JpcHRGcm9tVXJsOiBPYmplY3QgPSBKU09OLnBhcnNlKGRlY29kZShtYXRjaFsxXSkpO1xuXG4gICAgICAgIGlmIChzY3JpcHRGcm9tVXJsLmhhc093blByb3BlcnR5KFwibmFtZVwiKSAmJiBzY3JpcHRGcm9tVXJsLmhhc093blByb3BlcnR5KFwiY29kZVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoYXNTY3JpcHREYXRhOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNjcmlwdERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogKHNjcmlwdEZyb21VcmwgYXMgSVNjcmlwdERhdGEpLmNvZGUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IChzY3JpcHRGcm9tVXJsIGFzIElTY3JpcHREYXRhKS5uYW1lICsgXCIgdXBkYXRlZFwiLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJzY3JpcHQgZnJvbSB1cmwgaXNuJ3QgdHlwZSBvZiBJU2NyaXB0RGF0YVwiKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0UmV0dXJuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFJldHVyblxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVjb2RlKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIFJhd0RlZmxhdGUuaW5mbGF0ZSh3aW5kb3cuYXRvYihzdHJpbmcpKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlKHN0cmluZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5idG9hKFJhd0RlZmxhdGUuZGVmbGF0ZShzdHJpbmcpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlSGFzaChzY3JpcHQ6IElTY3JpcHREYXRhKSB7XG4gICAgLy8gd2luZG93LmxvY2F0aW9uLmhhc2ggPSAoXG4gICAgLy8gICAgICcvUy8nICsgZW5jb2RlKEpTT04uc3RyaW5naWZ5KHNjcmlwdCkpXG4gICAgLy8gKTtcblxuICAgIGNvbnN0IGxvY2F0aW9uUGF0aCAgICAgID0gXCIvc2tldGNoL1wiO1xuICAgIGNvbnN0IGxvY2F0aW9uSGFzaCAgICAgID0gYC9TLyR7ZW5jb2RlKEpTT04uc3RyaW5naWZ5KHNjcmlwdCkpfWA7XG5cbiAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBcIlwiLCBgJHtsb2NhdGlvblBhdGh9IyR7bG9jYXRpb25IYXNofWApXG59XG4iLCJpbXBvcnQge0VkaXRvck1hbmFnZXJ9IGZyb20gXCIuL0VkaXRvck1hbmFnZXJcIlxuaW1wb3J0IHtFZGl0b3J9IGZyb20gXCIuL0VkaXRvclwiXG5pbXBvcnQge2dldFVzZXJPc30gZnJvbSBcIi4uL2dldFVzZXJPc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFZGl0b3JzTWFuYWdlcigpOiBQcm9taXNlPEVkaXRvck1hbmFnZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IGNvZGVFbGVtZW50c0ZvcktvdGxpblBsYXlncm91bmRFZGl0b3JJbml0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtvdGxpbi1jb2RlJylcblxuICAgICAgICBjb25zdCBsaXN0T2ZFZGl0b3I6IEVkaXRvcltdID0gW11cblxuICAgICAgICBsZXQgbnVtYmVyT2ZFZGl0b3JzSW5pdGlhbGlzZWQgPSAwXG5cbiAgICAgICAgZm9yKGNvbnN0IGNvZGVFbGVtZW50IG9mIGNvZGVFbGVtZW50c0ZvcktvdGxpblBsYXlncm91bmRFZGl0b3JJbml0KSB7XG4gICAgICAgICAgICBpZihjb2RlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGlzdE9mRWRpdG9yLnB1c2gobmV3IEVkaXRvcihjb2RlRWxlbWVudCwgZ2V0VXNlck9zKCkpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yKGNvbnN0IGVkaXRvciBvZiBsaXN0T2ZFZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZFZGl0b3JzSW5pdGlhbGlzZWQrK1xuICAgICAgICAgICAgICAgIGlmKG51bWJlck9mRWRpdG9yc0luaXRpYWxpc2VkID09PSBsaXN0T2ZFZGl0b3IubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRWRpdG9yTWFuYWdlcihsaXN0T2ZFZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcbn1cbiIsImltcG9ydCB7YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcn0gZnJvbSBcIi4uL2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJcIlxuaW1wb3J0IHtnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3B9IGZyb20gXCIuLi9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3BcIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4uL0hUTUxfU0VMRUNUT1JTXCJcblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWVudVBvc2l0aW9uKHJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnU6IEhUTUxFbGVtZW50LCB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudT86IEhUTUxFbGVtZW50KSB7XG5cbiAgICBjb25zdCBGSVhFRF9NRU5VX0NMQVNTX05BTUUgPSBcIm1lbnUtZml4ZWRcIlxuXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHlcblxuICAgIGNvbnN0IGhlaWdodE9mRml4ZWRFbGVtZW50VGhhdEhpZGVzTWVudSA9IHRvcEVsZW1lbnRGaXhlZE92ZXJNZW51ID09PSB1bmRlZmluZWQgPyAgMCA6IHRvcEVsZW1lbnRGaXhlZE92ZXJNZW51LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuXG4gICAgYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcigoKSA9PiB7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25Ub3BPZlJlZkVsZW1lbnQgPSBwYXJzZUludCggd2luZG93LmdldENvbXB1dGVkU3R5bGUocmVmZXJlbmNlRWxlbWVudEZvckZpeGVkTWVudSkucGFkZGluZ1RvcCBhcyBzdHJpbmcgKVxuXG4gICAgICAgIGNvbnN0IHJlZlBvc2l0aW9uRm9yRml4ZWRNZW51ID0gcG9zaXRpb25Ub3BPZlJlZkVsZW1lbnQgLSBoZWlnaHRPZkZpeGVkRWxlbWVudFRoYXRIaWRlc01lbnVcblxuICAgICAgICBpZihnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKSA+PSByZWZQb3NpdGlvbkZvckZpeGVkTWVudSAmJiAhYm9keS5jbGFzc0xpc3QuY29udGFpbnMoRklYRURfTUVOVV9DTEFTU19OQU1FKSl7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5hZGQoRklYRURfTUVOVV9DTEFTU19OQU1FKVxuICAgICAgICB9IGVsc2UgaWYgKGdldFBhZ2VTY3JvbGxQb3NpdGlvblRvcCgpIDw9IHJlZlBvc2l0aW9uRm9yRml4ZWRNZW51ICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSkpIHtcbiAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShGSVhFRF9NRU5VX0NMQVNTX05BTUUpXG4gICAgICAgIH1cblxuICAgIH0pXG59XG4iLCJpbXBvcnQge0hUTUxfU0VMRUNUT1JTfSBmcm9tIFwiLi4vSFRNTF9TRUxFQ1RPUlNcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFNlY3Rpb25OYW1lKCkge1xuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLkNVUlJFTlRfU0VDVElPTl9OQU1FKVxuXG4gICAgaWYoY3VycmVudFNlY3Rpb25OYW1lRWxlbWVudCkge1xuICAgICAgICBjdXJyZW50U2VjdGlvbk5hbWVFbGVtZW50LmlubmVySFRNTCA9IGdldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50U2VjdGlvbk5hbWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYWdlVGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImgxXCIpXG4gICAgaWYocGFnZVRpdGxlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gcGFnZVRpdGxlRWxlbWVudC5pbm5lckhUTUxcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIlxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=