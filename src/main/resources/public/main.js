!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){},function(e,n,t){e.exports=t.p+"images/logo-play.png"},function(e,n,t){e.exports=t.p+"images/logo-negative.png"},function(e,n,t){e.exports=t.p+"images/go-back-to-main-page.png"},function(e,n,t){"use strict";function o(e){let n=!1;window.addEventListener("scroll",t=>{n||window.requestAnimationFrame(()=>{e(),n=!1}),n=!0})}function i(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}var r;t.r(n),function(e){e.CODE_AREA=".code-area",e.CONTENT="#d2v-content",e.CURRENT_SECTION_NAME="#current-section-name",e.TOP_HEADER="#d2v-header",e.NAVIGATION_MENU="#site-navigation"}(r||(r={}));class c{constructor(e,n){this._element=e,this._elementInMenu=this.getElementInMenu(n)}get isActive(){return this._element.getBoundingClientRect().top<=window.innerHeight/2}set classname(e){"active"===e?this._elementInMenuContainsActiveClass||this._elementInMenu.classList.add("active"):this._elementInMenuContainsActiveClass&&this._elementInMenu.classList.remove("active")}getElementInMenu(e){const n=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > ul > li > a`);for(const e of n)if(e.getAttribute("href")==="#"+this._element.getAttribute("id"))return e}get _elementInMenuContainsActiveClass(){return void 0!==this._elementInMenu&&this._elementInMenu.classList.contains("active")}}const s=[],u={getInstance:e=>{s.push(e)},onChange:e=>{console.log("Editor code was changed:\n"+e)}};!function(){const e=document.querySelectorAll(".kotlin-code");for(const n of e)n instanceof HTMLElement&&KotlinPlayground(n,u).then(e=>{console.log(e)})}(),function(e,n){const t=document.body,r=void 0===n?0:n.getBoundingClientRect().height;o(()=>{const n=parseInt(window.getComputedStyle(e).paddingTop)-r;i()>=n&&!t.classList.contains("menu-fixed")?t.classList.add("menu-fixed"):i()<=n&&t.classList.contains("menu-fixed")&&t.classList.remove("menu-fixed")})}(document.querySelector(r.CONTENT),document.querySelector(r.TOP_HEADER)),document.querySelector(r.CURRENT_SECTION_NAME).innerHTML=function(){const e=document.querySelector("h1");return null!==e?e.innerHTML:""}(),function(){const e=document.querySelectorAll(`${r.NAVIGATION_MENU} > li > a`),n=document.querySelector("h1");if(null!==n)for(const t of e)t.innerHTML===n.innerHTML&&t.classList.add("active")}(),new Promise((e,n)=>{const t=[],o=document.querySelectorAll(`${r.CONTENT} h2`),i=document.querySelector(`${r.NAVIGATION_MENU}`);for(const e of o)t.push(new c(e,i));e(t.reverse()),n(new Error("can't get list of level two in navigation menu"))}).then(e=>{o(()=>{!function(e){let n=!0;for(const t of e)t.isActive&&n?(n=!1,t.classname="active"):t.classname="unactive"}(e)})});t(0),t(1),t(2),t(3)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9sb2dvLXBsYXkucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWFnZXMvbG9nby1uZWdhdGl2ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltYWdlcy9nby1iYWNrLXRvLW1haW4tcGFnZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvSFRNTF9TRUxFQ1RPUlMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvbmF2aWdhdGlvbi9zZXROYXZpZ2F0aW9uTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9lZGl0b3Ivc2V0RWRpdG9ycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL25hdmlnYXRpb24vc2V0TWVudVBvc2l0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL25hdmlnYXRpb24vc2V0Q3VycmVudFNlY3Rpb25OYW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYWRkU2Nyb2xsRXZlbnRMaXN0ZW5lciIsImZ1biIsInRpY2tpbmciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AiLCJ1bmRlZmluZWQiLCJwYWdlWU9mZnNldCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiYm9keSIsInBhcmVudE5vZGUiLCJzY3JvbGxUb3AiLCJIVE1MX1NFTEVDVE9SUyIsInNldE5hdmlnYXRpb25NZW51X1RpdGxlTGV2ZWxUd28iLCJbb2JqZWN0IE9iamVjdF0iLCJlbGVtZW50IiwibmF2aWdhdGlvbk1lbnVFbGVtZW50IiwidGhpcyIsIl9lbGVtZW50IiwiX2VsZW1lbnRJbk1lbnUiLCJnZXRFbGVtZW50SW5NZW51IiwiaXNBY3RpdmUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJpbm5lckhlaWdodCIsImNsYXNzbmFtZSIsIl9lbGVtZW50SW5NZW51Q29udGFpbnNBY3RpdmVDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImxpc3RPZkxldmVsVHdvSW5NZW51IiwicXVlcnlTZWxlY3RvckFsbCIsIk5BVklHQVRJT05fTUVOVSIsImxldmVsVHdvRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwibGlzdE9mS290bGluUGxheWdyb3VuZEVkaXRvcnMiLCJldmVudEZ1bmN0aW9ucyIsImdldEluc3RhbmNlIiwia290bGluUGxheWdyb3VuZEVkaXRvciIsInB1c2giLCJvbkNoYW5nZSIsImNvZGUiLCJjb25zb2xlIiwibG9nIiwiY29kZUVsZW1lbnRzRm9yS290bGluUGxheWdyb3VuZEVkaXRvckluaXQiLCJjb2RlRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiS290bGluUGxheWdyb3VuZCIsInRoZW4iLCJlIiwic2V0RWRpdG9ycyIsInJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnUiLCJ0b3BFbGVtZW50Rml4ZWRPdmVyTWVudSIsImhlaWdodE9mRml4ZWRFbGVtZW50VGhhdEhpZGVzTWVudSIsImhlaWdodCIsInJlZlBvc2l0aW9uRm9yRml4ZWRNZW51IiwicGFyc2VJbnQiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ1RvcCIsInNldE1lbnVQb3NpdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJDT05URU5UIiwiVE9QX0hFQURFUiIsIkNVUlJFTlRfU0VDVElPTl9OQU1FIiwiaW5uZXJIVE1MIiwicGFnZVRpdGxlRWxlbWVudCIsImdldEN1cnJlbnRTZWN0aW9uTmFtZSIsIkxFVkVMX09OX05BVklHQVRJT05fRUxFTUVOVFMiLCJjdXJyZW50VGl0bGVQYWdlIiwibGV2ZWwxTWVudU5hdmlnYXRpb25FbGVtZW50Iiwic2V0TGV2ZWxOYXZPbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImxpc3RUb1JldHVybiIsIlRJVExFX1RXT19FTEVNRU5UUyIsIk5BVklHQVRJT05fTUVOVV9FTEVNRU5UIiwibmF2aWdhdGlvblR3b0VsZW1lbnQiLCJyZXZlcnNlIiwiRXJyb3IiLCJsaXN0T2ZUaXRsZUxldmVsVHdvIiwibGFzdFRpdGxlSXNOb3RGb3VuZCIsInRpdGxlTGV2ZWxUd28iLCJ1cGRhdGVMZXZlbFR3b0luTmF2aWdhdGlvbk1lbnUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNB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QXdCRixFQUM5QkQsRUFBYW5DLEtBQUssSUFBSTNCLEVBQWNpRSxFQUFzQkQsSUFHOURKLEVBQVFFLEVBQWFJLFdBRXJCTCxFQUFPLElBQUlNLE1BQU0scURBakNTL0IsS0FBTW5FLElBQ2hDZSxFQUF1QixNQU0vQixTQUF3Q29GLEdBQ3BDLElBQUlDLEdBQXNCLEVBRTFCLElBQUksTUFBTUMsS0FBaUJGLEVBQ3BCRSxFQUFjOUQsVUFBWTZELEdBQ3pCQSxHQUFzQixFQUN0QkMsRUFBYzFELFVBQVksVUFFMUIwRCxFQUFjMUQsVUFBWSxXQWIxQjJELENBQStCdEciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltYWdlcy9sb2dvLXBsYXkucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2xvZ28tbmVnYXRpdmUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1hZ2VzL2dvLWJhY2stdG8tbWFpbi1wYWdlLnBuZ1wiOyIsImV4cG9ydCBmdW5jdGlvbiBhZGRTY3JvbGxFdmVudExpc3RlbmVyKGZ1bjogKCkgPT4gdm9pZCkge1xuICAgIGxldCB0aWNraW5nID0gZmFsc2VcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoZXYpID0+IHtcbiAgICAgICAgaWYoIXRpY2tpbmcpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZ1bigpXG4gICAgICAgICAgICAgICAgdGlja2luZyA9IGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHRpY2tpbmcgPSB0cnVlXG4gICAgfSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHdpbmRvdy5wYWdlWU9mZnNldCAhPT0gdW5kZWZpbmVkKSA/IHdpbmRvdy5wYWdlWU9mZnNldCA6ICgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5KSBhcyBIVE1MRWxlbWVudCkuc2Nyb2xsVG9wXG59IiwiZXhwb3J0IGVudW0gSFRNTF9TRUxFQ1RPUlMge1xuICAgIENPREVfQVJFQSAgICAgICAgICAgICAgID0gXCIuY29kZS1hcmVhXCIsXG4gICAgQ09OVEVOVCAgICAgICAgICAgICAgICAgPSBcIiNkMnYtY29udGVudFwiLFxuICAgIENVUlJFTlRfU0VDVElPTl9OQU1FICAgID0gXCIjY3VycmVudC1zZWN0aW9uLW5hbWVcIixcbiAgICBUT1BfSEVBREVSICAgICAgICAgICAgICA9IFwiI2Qydi1oZWFkZXJcIixcbiAgICBOQVZJR0FUSU9OX01FTlUgICAgICAgICA9IFwiI3NpdGUtbmF2aWdhdGlvblwiXG59IiwiaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4uL0hUTUxfU0VMRUNUT1JTXCJcbmltcG9ydCB7YWRkU2Nyb2xsRXZlbnRMaXN0ZW5lcn0gZnJvbSBcIi4uL2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJcIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0TmF2aWdhdGlvbk1lbnUoKSB7XG4gICAgc2V0TGV2ZWxOYXZPbmUoKVxuICAgIHNldExldmVsTmF2VHdvKClcbn1cblxuZnVuY3Rpb24gc2V0TGV2ZWxOYXZPbmUoKSB7XG4gICAgY29uc3QgQ1VSUkVOVF9TRUNUSU9OX0NMQVNTTkFNRSA9IFwiYWN0aXZlXCJcblxuICAgIGNvbnN0IExFVkVMX09OX05BVklHQVRJT05fRUxFTUVOVFMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke0hUTUxfU0VMRUNUT1JTLk5BVklHQVRJT05fTUVOVX0gPiBsaSA+IGFgKVxuXG4gICAgY29uc3QgY3VycmVudFRpdGxlUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKVxuXG4gICAgaWYoY3VycmVudFRpdGxlUGFnZSAhPT0gbnVsbCl7XG4gICAgICAgIGZvcihjb25zdCBsZXZlbDFNZW51TmF2aWdhdGlvbkVsZW1lbnQgb2YgTEVWRUxfT05fTkFWSUdBVElPTl9FTEVNRU5UUykge1xuICAgICAgICAgICAgaWYobGV2ZWwxTWVudU5hdmlnYXRpb25FbGVtZW50LmlubmVySFRNTCA9PT0gY3VycmVudFRpdGxlUGFnZS5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICBsZXZlbDFNZW51TmF2aWdhdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChDVVJSRU5UX1NFQ1RJT05fQ0xBU1NOQU1FKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMZXZlbE5hdlR3bygpIHtcbiAgICBnZW5lcmF0ZUxpc3RPZlRpdGxlTGV2ZWxUd28oKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgICBhZGRTY3JvbGxFdmVudExpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZUxldmVsVHdvSW5OYXZpZ2F0aW9uTWVudSh2YWx1ZSlcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMZXZlbFR3b0luTmF2aWdhdGlvbk1lbnUobGlzdE9mVGl0bGVMZXZlbFR3bzogVGl0bGVMZXZlbFR3b1tdKSB7XG4gICAgbGV0IGxhc3RUaXRsZUlzTm90Rm91bmQgPSB0cnVlXG5cbiAgICBmb3IoY29uc3QgdGl0bGVMZXZlbFR3byBvZiBsaXN0T2ZUaXRsZUxldmVsVHdvKSB7XG4gICAgICAgIGlmKHRpdGxlTGV2ZWxUd28uaXNBY3RpdmUgJiYgbGFzdFRpdGxlSXNOb3RGb3VuZCkge1xuICAgICAgICAgICAgbGFzdFRpdGxlSXNOb3RGb3VuZCA9IGZhbHNlXG4gICAgICAgICAgICB0aXRsZUxldmVsVHdvLmNsYXNzbmFtZSA9IFwiYWN0aXZlXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlTGV2ZWxUd28uY2xhc3NuYW1lID0gXCJ1bmFjdGl2ZVwiXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTGlzdE9mVGl0bGVMZXZlbFR3bygpOiBQcm9taXNlPFRpdGxlTGV2ZWxUd29bXT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RUb1JldHVybiA9IFtdXG5cbiAgICAgICAgY29uc3QgVElUTEVfVFdPX0VMRU1FTlRTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgJHtIVE1MX1NFTEVDVE9SUy5DT05URU5UfSBoMmApIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+XG4gICAgICAgIGNvbnN0IE5BVklHQVRJT05fTUVOVV9FTEVNRU5UID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHtIVE1MX1NFTEVDVE9SUy5OQVZJR0FUSU9OX01FTlV9YCkgYXMgSFRNTEVsZW1lbnRcblxuICAgICAgICBmb3IoY29uc3QgbmF2aWdhdGlvblR3b0VsZW1lbnQgb2YgVElUTEVfVFdPX0VMRU1FTlRTKSB7XG4gICAgICAgICAgICBsaXN0VG9SZXR1cm4ucHVzaChuZXcgVGl0bGVMZXZlbFR3byhuYXZpZ2F0aW9uVHdvRWxlbWVudCwgTkFWSUdBVElPTl9NRU5VX0VMRU1FTlQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShsaXN0VG9SZXR1cm4ucmV2ZXJzZSgpKVxuXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJjYW4ndCBnZXQgbGlzdCBvZiBsZXZlbCB0d28gaW4gbmF2aWdhdGlvbiBtZW51XCIpKVxuICAgIH0pXG59XG5cbmNsYXNzIFRpdGxlTGV2ZWxUd28ge1xuICAgIHByaXZhdGUgX2VsZW1lbnQ6IEhUTUxFbGVtZW50XG5cbiAgICBwcml2YXRlIF9lbGVtZW50SW5NZW51OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZFxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudEluTWVudSA9IHRoaXMuZ2V0RWxlbWVudEluTWVudShuYXZpZ2F0aW9uTWVudUVsZW1lbnQpXG4gICAgfVxuXG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgPD0gd2luZG93LmlubmVySGVpZ2h0IC8gMlxuICAgIH1cblxuICAgIHNldCBjbGFzc25hbWUoY2xhc3NuYW1lOiBcImFjdGl2ZVwifFwidW5hY3RpdmVcIikge1xuICAgICAgICBpZihjbGFzc25hbWUgPT09IFwiYWN0aXZlXCIpIHtcbiAgICAgICAgICAgIGlmKCEgdGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYodGhpcy5fZWxlbWVudEluTWVudUNvbnRhaW5zQWN0aXZlQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAodGhpcy5fZWxlbWVudEluTWVudSBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRFbGVtZW50SW5NZW51KG5hdmlnYXRpb25NZW51RWxlbWVudDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgbGlzdE9mTGV2ZWxUd29Jbk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke0hUTUxfU0VMRUNUT1JTLk5BVklHQVRJT05fTUVOVX0gPiBsaSA+IHVsID4gbGkgPiBhYCkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD5cblxuICAgICAgICBmb3IoY29uc3QgbGV2ZWxUd29FbGVtZW50IG9mIGxpc3RPZkxldmVsVHdvSW5NZW51KSB7XG4gICAgICAgICAgICBpZihsZXZlbFR3b0VsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgKyB0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVsVHdvRWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgX2VsZW1lbnRJbk1lbnVDb250YWluc0FjdGl2ZUNsYXNzKCkge1xuICAgICAgICBpZih0aGlzLl9lbGVtZW50SW5NZW51ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50SW5NZW51LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQge0lLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yfSBmcm9tIFwiLi9JS290bGluUGxheWdyb3VuZEVkaXRvclwiXG5pbXBvcnQge0QyVktvdGxpbkVkaXRvcnN9IGZyb20gXCIuL0QyVktvdGxpbkVkaXRvcnNcIlxuXG5kZWNsYXJlIGZ1bmN0aW9uIEtvdGxpblBsYXlncm91bmQoc2VsZWN0b3I6IHN0cmluZyB8wqBIVE1MRWxlbWVudCwgZXZlbnRGdW5jdGlvbnM/OiBJRXZlbnRGdW5jdGlvbnMpOiBQcm9taXNlPElLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yW10+XG5cbmludGVyZmFjZSBJRXZlbnRGdW5jdGlvbnMge1xuICAgIGNhbGxiYWNrPzogKHRhcmdldE5vZGU6IEhUTUxFbGVtZW50LCBtb3VudE5vZGU6IEhUTUxFbGVtZW50KSA9PiB2b2lkLFxuICAgIGdldEluc3RhbmNlPzogKGluc3RhbmNlOiBJS290bGluUGxheWdyb3VuZEVkaXRvcikgPT4gdm9pZFxuICAgIG9uQ2hhbmdlPzogKGNvZGU6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvblRlc3RQYXNzZWQ/OiAoKSA9PiB2b2lkLFxufVxuXG5jb25zdCBsaXN0T2ZLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yczogSUtvdGxpblBsYXlncm91bmRFZGl0b3JbXSA9IFtdXG5cbmNvbnN0IGV2ZW50RnVuY3Rpb25zOiBJS290bGluUGxheWdyb3VuZEVkaXRvckV2ZW50RnVuY3Rpb25zID0ge1xuICAgIGdldEluc3RhbmNlOiAoa290bGluUGxheWdyb3VuZEVkaXRvcjogSUtvdGxpblBsYXlncm91bmRFZGl0b3IpID0+IHtcbiAgICAgICAgbGlzdE9mS290bGluUGxheWdyb3VuZEVkaXRvcnMucHVzaChrb3RsaW5QbGF5Z3JvdW5kRWRpdG9yKVxuICAgIH0sXG4gICAgb25DaGFuZ2U6IChjb2RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFZGl0b3IgY29kZSB3YXMgY2hhbmdlZDpcXG5cIiArIGNvZGUpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RWRpdG9ycygpIHtcbiAgICBjb25zdCBjb2RlRWxlbWVudHNGb3JLb3RsaW5QbGF5Z3JvdW5kRWRpdG9ySW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5rb3RsaW4tY29kZScpXG5cbiAgICBmb3IoY29uc3QgY29kZUVsZW1lbnQgb2YgY29kZUVsZW1lbnRzRm9yS290bGluUGxheWdyb3VuZEVkaXRvckluaXQpIHtcbiAgICAgICAgaWYoY29kZUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgdGVzdCA9IEtvdGxpblBsYXlncm91bmQoY29kZUVsZW1lbnQsIGV2ZW50RnVuY3Rpb25zKS50aGVuKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuaW50ZXJmYWNlIElLb3RsaW5QbGF5Z3JvdW5kRWRpdG9yRXZlbnRGdW5jdGlvbnMge1xuICAgIG9uQ2hhbmdlPzogICAgICAgICAgKGNvZGU6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvblRlc3RQYXNzZWQ/OiAgICAgICgpID0+IHZvaWQ7XG4gICAgb25DbG9zZUNvbnNvbGU/OiAgICAoKSA9PiB2b2lkO1xuICAgIG9uT3BlbkNvbnNvbGU/OiAgICAgKCkgPT4gdm9pZDtcbiAgICBjYWxsYmFjaz86ICAgICAgICAgICh0YXJnZXROb2RlOiBIVE1MRWxlbWVudCwgbW91bnROb2RlOiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcbiAgICBnZXRJbnN0YW5jZT86ICAgICAgIChpbnN0YW5jZTogSUtvdGxpblBsYXlncm91bmRFZGl0b3IpID0+IHZvaWRcbn0iLCJpbXBvcnQge3NldE1lbnVQb3NpdGlvbn0gZnJvbSBcIi4vbmF2aWdhdGlvbi9zZXRNZW51UG9zaXRpb25cIlxuaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4vSFRNTF9TRUxFQ1RPUlNcIlxuaW1wb3J0IHtzZXRDdXJyZW50U2VjdGlvbk5hbWV9IGZyb20gXCIuL25hdmlnYXRpb24vc2V0Q3VycmVudFNlY3Rpb25OYW1lXCJcbmltcG9ydCB7c2V0TmF2aWdhdGlvbk1lbnV9IGZyb20gXCIuL25hdmlnYXRpb24vc2V0TmF2aWdhdGlvbk1lbnVcIlxuaW1wb3J0IHtzZXRFZGl0b3JzfSBmcm9tIFwiLi9lZGl0b3Ivc2V0RWRpdG9yc1wiXG5cbnNldEVkaXRvcnMoKVxuXG5zZXRNZW51UG9zaXRpb24oXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihIVE1MX1NFTEVDVE9SUy5DT05URU5UKSBhcyBIVE1MRWxlbWVudCxcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKEhUTUxfU0VMRUNUT1JTLlRPUF9IRUFERVIpIGFzIEhUTUxFbGVtZW50LFxuKVxuXG5cbnNldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG5cbnNldE5hdmlnYXRpb25NZW51KCkiLCJpbXBvcnQge2FkZFNjcm9sbEV2ZW50TGlzdGVuZXJ9IGZyb20gXCIuLi9hZGRTY3JvbGxFdmVudExpc3RlbmVyXCJcbmltcG9ydCB7Z2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wfSBmcm9tIFwiLi4vZ2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wXCJcbmltcG9ydCB7SFRNTF9TRUxFQ1RPUlN9IGZyb20gXCIuLi9IVE1MX1NFTEVDVE9SU1wiXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNldE1lbnVQb3NpdGlvbihyZWZlcmVuY2VFbGVtZW50Rm9yRml4ZWRNZW51OiBIVE1MRWxlbWVudCwgdG9wRWxlbWVudEZpeGVkT3Zlck1lbnU/OiBIVE1MRWxlbWVudCkge1xuXG4gICAgY29uc3QgRklYRURfTUVOVV9DTEFTU19OQU1FID0gXCJtZW51LWZpeGVkXCJcblxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG5cbiAgICBjb25zdCBoZWlnaHRPZkZpeGVkRWxlbWVudFRoYXRIaWRlc01lbnUgPSB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudSA9PT0gdW5kZWZpbmVkID8gIDAgOiB0b3BFbGVtZW50Rml4ZWRPdmVyTWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcblxuICAgIGFkZFNjcm9sbEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uVG9wT2ZSZWZFbGVtZW50ID0gcGFyc2VJbnQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHJlZmVyZW5jZUVsZW1lbnRGb3JGaXhlZE1lbnUpLnBhZGRpbmdUb3AgYXMgc3RyaW5nIClcblxuICAgICAgICBjb25zdCByZWZQb3NpdGlvbkZvckZpeGVkTWVudSA9IHBvc2l0aW9uVG9wT2ZSZWZFbGVtZW50IC0gaGVpZ2h0T2ZGaXhlZEVsZW1lbnRUaGF0SGlkZXNNZW51XG5cbiAgICAgICAgaWYoZ2V0UGFnZVNjcm9sbFBvc2l0aW9uVG9wKCkgPj0gcmVmUG9zaXRpb25Gb3JGaXhlZE1lbnUgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSkpe1xuICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKEZJWEVEX01FTlVfQ0xBU1NfTkFNRSlcbiAgICAgICAgfSBlbHNlIGlmIChnZXRQYWdlU2Nyb2xsUG9zaXRpb25Ub3AoKSA8PSByZWZQb3NpdGlvbkZvckZpeGVkTWVudSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhGSVhFRF9NRU5VX0NMQVNTX05BTUUpKSB7XG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoRklYRURfTUVOVV9DTEFTU19OQU1FKVxuICAgICAgICB9XG5cbiAgICB9KVxufVxuIiwiaW1wb3J0IHtIVE1MX1NFTEVDVE9SU30gZnJvbSBcIi4uL0hUTUxfU0VMRUNUT1JTXCJcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEN1cnJlbnRTZWN0aW9uTmFtZSgpIHtcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihIVE1MX1NFTEVDVE9SUy5DVVJSRU5UX1NFQ1RJT05fTkFNRSkgYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTCA9IGdldEN1cnJlbnRTZWN0aW9uTmFtZSgpXG59XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRTZWN0aW9uTmFtZSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhZ2VUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaDFcIilcbiAgICBpZihwYWdlVGl0bGVFbGVtZW50ICE9PSBudWxsICkge1xuICAgICAgICByZXR1cm4gcGFnZVRpdGxlRWxlbWVudC5pbm5lckhUTUxcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIlxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=